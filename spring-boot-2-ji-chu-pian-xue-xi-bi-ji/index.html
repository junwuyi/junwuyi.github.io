<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Spring Boot 2 基础篇学习笔记 - 君无意博客</title>
<link rel="shortcut icon" href="https://junwuyi.github.io/favicon.ico">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.2.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css">
<link rel="stylesheet" href="https://junwuyi.github.io/media/css/tailwind.css">
<link rel="stylesheet" href="https://junwuyi.github.io/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="Spring Boot 2 基础篇学习笔记 - 君无意博客 - Atom Feed" href="https://junwuyi.github.io/atom.xml">

    

  <meta name="description" content="Spring Boot 2 运维实用篇学习笔记

01-开发环境
02-内容介绍
03-SpringBoot入门案例（Idea联网版）
04-SpringBoot入门案例（官网创建版）
05-SpringBoot入门案例（阿里云版）
06-..." />
  <meta property="og:title" content="Spring Boot 2 基础篇学习笔记 - 君无意博客">
  <meta property="og:description" content="Spring Boot 2 运维实用篇学习笔记

01-开发环境
02-内容介绍
03-SpringBoot入门案例（Idea联网版）
04-SpringBoot入门案例（官网创建版）
05-SpringBoot入门案例（阿里云版）
06-..." />
  <meta property="og:type" content="articles">
  <meta property="og:url" content="https://junwuyi.github.io/spring-boot-2-ji-chu-pian-xue-xi-bi-ji/" />
  <meta property="og:image" content="https://junwuyi.github.io/images/avatar.png">
  <meta property="og:image:height" content="630">
  <meta property="og:image:width" content="1200">
  <meta name="twitter:title" content="Spring Boot 2 基础篇学习笔记 - 君无意博客">
  <meta name="twitter:description" content="Spring Boot 2 运维实用篇学习笔记

01-开发环境
02-内容介绍
03-SpringBoot入门案例（Idea联网版）
04-SpringBoot入门案例（官网创建版）
05-SpringBoot入门案例（阿里云版）
06-...">
  <meta name="twitter:card" content="summary_large_image">
  <link rel="canonical" href="https://junwuyi.github.io/spring-boot-2-ji-chu-pian-xue-xi-bi-ji/">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css">
 
  
    <link rel="stylesheet" href="https://junwuyi.github.io/media/css/prism-atom-dark.css">
  

  
</head>

<body>
  <div class="antialiased flex flex-col min-h-screen" id="app">
    <a href="https://junwuyi.github.io" class="fixed top-0 left-0 mt-4 bg-black text-white dark:text-gray-700 dark:bg-yellow-50 dark:hover:bg-black dark:hover:text-white inline-flex p-2 pl-8 hover:text-gray-700 hover:bg-yellow-50 font-bold z-10 transition-fast animated fadeInLeft">
      君无意博客
    </a>
    <div class="max-w-4xl w-full mx-auto">
      <div class="shadow-box bg-white dark:bg-gray-600 rounded-lg pt-32 md:pt-64 px-4 md:px-8 pb-8 animated fadeIn mb-8">
        <h1 class="text-5xl font-semibold leading-normal pb-8 mb-8 border-b-8 border-gray-700">
          Spring Boot 2 基础篇学习笔记
        </h1>
        
        <div class="mb-8 flex flex-wrap">
          <div class="text-gray-400 text-sm mr-4">2021-11-15 · 61 min read</div>
          
        </div>
        <div class="markdown mb-8" v-pre>
          <p><a href="https://blog.csdn.net/qq_42324086/article/details/121386859">Spring Boot 2 运维实用篇学习笔记</a><br>
<ul class="markdownIt-TOC">
<li><a href="#01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83">01-开发环境</a></li>
<li><a href="#02-%E5%86%85%E5%AE%B9%E4%BB%8B%E7%BB%8D">02-内容介绍</a></li>
<li><a href="#03-springboot%E5%85%A5%E9%97%A8%E6%A1%88%E4%BE%8Bidea%E8%81%94%E7%BD%91%E7%89%88">03-SpringBoot入门案例（Idea联网版）</a></li>
<li><a href="#04-springboot%E5%85%A5%E9%97%A8%E6%A1%88%E4%BE%8B%E5%AE%98%E7%BD%91%E5%88%9B%E5%BB%BA%E7%89%88">04-SpringBoot入门案例（官网创建版）</a></li>
<li><a href="#05-springboot%E5%85%A5%E9%97%A8%E6%A1%88%E4%BE%8B%E9%98%BF%E9%87%8C%E4%BA%91%E7%89%88">05-SpringBoot入门案例（阿里云版）</a></li>
<li><a href="#06-springboot%E5%85%A5%E9%97%A8%E6%A1%88%E4%BE%8B%E6%89%8B%E5%B7%A5%E5%88%B6%E4%BD%9C%E7%89%88">06-SpringBoot入门案例（手工制作版）</a></li>
<li><a href="#07-%E6%95%99%E4%BD%A0%E4%B8%80%E6%8B%9B%E9%9A%90%E8%97%8F%E6%96%87%E4%BB%B6%E6%88%96%E6%96%87%E4%BB%B6%E5%A4%B9">07-教你一招：隐藏文件或文件夹</a></li>
<li><a href="#08-%E5%85%A5%E9%97%A8%E6%A1%88%E4%BE%8B%E8%A7%A3%E6%9E%90parent">08-入门案例解析：parent</a></li>
<li><a href="#09-%E5%85%A5%E9%97%A8%E6%A1%88%E4%BE%8B%E8%A7%A3%E6%9E%90starter">09-入门案例解析：starter</a></li>
<li><a href="#10-%E5%85%A5%E9%97%A8%E6%A1%88%E4%BE%8B%E8%A7%A3%E6%9E%90%E5%BC%95%E5%AF%BC%E7%B1%BB">10-入门案例解析：引导类</a></li>
<li><a href="#11-%E5%85%A5%E9%97%A8%E6%A1%88%E4%BE%8B%E8%BE%85%E5%8A%A9%E5%8A%9F%E8%83%BD">11-入门案例：辅助功能</a>
<ul>
<li><a href="#%E6%80%BB%E7%BB%93">总结:</a></li>
</ul>
</li>
<li><a href="#12-%E6%95%99%E4%BD%A0%E4%B8%80%E6%8B%9B%E5%A4%8D%E5%88%B6%E6%A8%A1%E5%9D%97">12-教你一招：复制模块</a></li>
<li><a href="#13-%E5%B1%9E%E6%80%A7%E9%85%8D%E7%BD%AE%E6%96%B9%E5%BC%8F">13-属性配置方式</a></li>
<li><a href="#14-%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE">14-基础配置</a></li>
<li><a href="#15-3%E7%A7%8D%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B">15-3种配置文件类型</a></li>
<li><a href="#16-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%8A%A0%E8%BD%BD%E4%BC%98%E5%85%88%E7%BA%A7">16-配置文件加载优先级</a></li>
<li><a href="#17-%E6%95%99%E4%BD%A0%E4%B8%80%E6%8B%9B%E5%B1%9E%E6%80%A7%E6%8F%90%E7%A4%BA%E6%B6%88%E5%A4%B1%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88">17-教你一招：属性提示消失解决方案</a></li>
<li><a href="#18-yaml%E6%95%B0%E6%8D%AE%E6%A0%BC%E5%BC%8F">18-yaml数据格式</a>
<ul>
<li><a href="#yaml">yaml</a></li>
<li><a href="#yaml%E8%AF%AD%E6%B3%95%E8%A7%84%E5%88%99">yaml语法规则</a>
<ul>
<li><a href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95">基本语法</a></li>
<li><a href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">数据类型</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#19-%E8%AF%BB%E5%8F%96yaml%E5%8D%95%E4%B8%80%E5%B1%9E%E6%80%A7%E6%95%B0%E6%8D%AE">19-读取yaml单一属性数据</a></li>
<li><a href="#20-yaml%E6%96%87%E4%BB%B6%E4%B8%AD%E7%9A%84%E5%8F%98%E9%87%8F%E5%BC%95%E7%94%A8">20-yaml文件中的变量引用</a></li>
<li><a href="#21-%E8%AF%BB%E5%8F%96yaml%E5%85%A8%E9%83%A8%E5%B1%9E%E6%80%A7%E6%95%B0%E6%8D%AE">21-读取yaml全部属性数据</a></li>
<li><a href="#22-%E8%AF%BB%E5%8F%96yaml%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B%E5%B1%9E%E6%80%A7%E6%95%B0%E6%8D%AE">22-读取yaml引用类型属性数据</a></li>
<li><a href="#23-springboot%E6%95%B4%E5%90%88junit">23-SpringBoot整合JUnit</a></li>
<li><a href="#24-%E6%95%B4%E5%90%88junitclasses%E5%B1%9E%E6%80%A7">24-整合JUnit——classes属性</a></li>
<li><a href="#25-springboot%E6%95%B4%E5%90%88mybatis">25-SpringBoot整合MyBatis</a></li>
<li><a href="#26-springboot%E6%95%B4%E5%90%88mybatis%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E5%A4%84%E7%90%86">26-SpringBoot整合MyBatis常见问题处理</a></li>
<li><a href="#27-springboot%E6%95%B4%E5%90%88mybatisplus">27-SpringBoot整合MyBatisPlus</a></li>
<li><a href="#28-springboot%E6%95%B4%E5%90%88druid">28-SpringBoot整合Druid</a></li>
<li><a href="#29-ssmp%E6%95%B4%E5%90%88%E6%A1%88%E4%BE%8B%E5%88%B6%E4%BD%9C%E5%88%86%E6%9E%90">29-SSMP整合案例制作分析</a>
<ul>
<li><a href="#%E6%A1%88%E4%BE%8B%E6%95%88%E6%9E%9C%E6%BC%94%E7%A4%BA">案例效果演示:</a></li>
<li><a href="#%E6%A1%88%E4%BE%8B%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%A1%88%E5%88%86%E6%9E%90%E4%B8%8E%E6%B5%81%E7%A8%8B%E8%A7%A3%E6%9E%90">案例实现方案分析与流程解析</a></li>
</ul>
</li>
<li><a href="#30-%E6%A8%A1%E5%9D%97%E5%88%9B%E5%BB%BA">30-模块创建</a>
<ul>
<li><a href="#tbl_booksql">tbl_book.sql</a></li>
</ul>
</li>
<li><a href="#31-%E5%AE%9E%E4%BD%93%E7%B1%BB%E5%BF%AB%E9%80%9F%E5%BC%80%E5%8F%91lombok">31-实体类快速开发（lombok）</a></li>
<li><a href="#32-%E6%95%B0%E6%8D%AE%E5%B1%82%E6%A0%87%E5%87%86%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80crud">32-数据层标准开发（基础CRUD）</a></li>
<li><a href="#33-%E5%BC%80%E5%90%AFmp%E8%BF%90%E8%A1%8C%E6%97%A5%E5%BF%97">33-开启MP运行日志</a></li>
<li><a href="#34-%E5%88%86%E9%A1%B5">34-分页</a></li>
<li><a href="#35-%E6%95%B0%E6%8D%AE%E5%B1%82%E6%A0%87%E5%87%86%E5%BC%80%E5%8F%91%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2">35-数据层标准开发（条件查询）</a></li>
<li><a href="#36-%E4%B8%9A%E5%8A%A1%E5%B1%82%E6%A0%87%E5%87%86%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80crud">36-业务层标准开发（基础CRUD）</a></li>
<li><a href="#37-%E4%B8%9A%E5%8A%A1%E5%B1%82%E5%BF%AB%E9%80%9F%E5%BC%80%E5%8F%91%E5%9F%BA%E4%BA%8Emybatisplus%E6%9E%84%E5%BB%BA">37-业务层快速开发（基于MyBatisPlus构建）</a></li>
<li><a href="#38-%E8%A1%A8%E7%8E%B0%E5%B1%82%E6%A0%87%E5%87%86%E5%BC%80%E5%8F%91">38-表现层标准开发</a></li>
<li><a href="#39-%E8%A1%A8%E7%8E%B0%E5%B1%82%E6%95%B0%E6%8D%AE%E4%B8%80%E8%87%B4%E6%80%A7%E5%A4%84%E7%90%86r%E5%AF%B9%E8%B1%A1">39-表现层数据一致性处理（R对象）</a></li>
<li><a href="#40-%E5%89%8D%E5%90%8E%E7%AB%AF%E8%B0%83%E7%94%A8axios%E5%8F%91%E9%80%81%E5%BC%82%E6%AD%A5%E8%AF%B7%E6%B1%82">40-前后端调用（axios发送异步请求）</a>
<ul>
<li><a href="#%E4%BD%BF%E7%94%A8vue%E7%9A%84%E6%96%B9%E6%B3%95%E6%97%B6%E6%8F%90%E7%A4%BA%E6%8A%A5%E9%94%99">使用VUE的方法时提示报错：</a></li>
</ul>
</li>
<li><a href="#41-%E5%88%97%E8%A1%A8%E5%8A%9F%E8%83%BD">41-列表功能</a></li>
<li><a href="#42-%E6%B7%BB%E5%8A%A0%E5%8A%9F%E8%83%BD">42-添加功能</a></li>
<li><a href="#43-%E5%88%A0%E9%99%A4%E5%8A%9F%E8%83%BD">43-删除功能</a></li>
<li><a href="#44%E4%BF%AE%E6%94%B9%E5%8A%9F%E8%83%BD%E5%8A%A0%E8%BD%BD%E6%95%B0%E6%8D%AE">44修改功能（加载数据）</a></li>
<li><a href="#45-%E4%BF%AE%E6%94%B9%E5%8A%9F%E8%83%BD">45-修改功能</a></li>
<li><a href="#46-%E5%BC%82%E5%B8%B8%E6%B6%88%E6%81%AF%E5%A4%84%E7%90%86">46-异常消息处理</a></li>
<li><a href="#47-%E5%88%86%E9%A1%B5">47-分页</a></li>
<li><a href="#48-%E5%88%86%E9%A1%B5%E5%8A%9F%E8%83%BD%E7%BB%B4%E6%8A%A4%E5%88%A0%E9%99%A4bug">48-分页功能维护（删除BUG）</a></li>
<li><a href="#49-%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2">49-条件查询</a></li>
<li><a href="#50-%E5%9F%BA%E7%A1%80%E7%AF%87%E5%AE%8C%E7%BB%93">50-基础篇完结</a>
<ul>
<li><a href="#%E5%9F%BA%E4%BA%8Espringboot%E7%9A%84ssmp%E6%95%B4%E5%90%88%E6%A1%88%E4%BE%8B">基于SpringBoot的SSMP整合案例</a></li>
</ul>
</li>
</ul>
</p>
<h1 id="01-开发环境">01-开发环境</h1>
<p>学习要求</p>
<ul>
<li>熟悉Spring基础</li>
<li>熟悉Maven使用</li>
</ul>
<p>环境要求</p>
<ul>
<li>Java8及以上</li>
<li>Maven 3.5及以上：https://docs.spring.io/spring-boot/docs/current/reference/html/getting-started.html#getting-started-system-requirements</li>
</ul>
<p>学习资料</p>
<ul>
<li>Spring Boot官网：https://spring.io/projects/spring-boot</li>
<li>Spring Boot官方文档：https://docs.spring.io/spring-boot/docs/current/reference/html/</li>
<li>视频地址： https://www.bilibili.com/video/BV15b4y1a7yG?p=24&amp;share_source=copy_web</li>
<li>源码地址：https://github.com/junwuyi/springboot-study</li>
</ul>
<h1 id="02-内容介绍">02-内容介绍</h1>
<ul>
<li>基础篇</li>
</ul>
<pre><code class="language-java">Java基础语法
Spring与SpringMVC
	知道Spring是用来管理bean，能够基于Restful实现页面请求交互功能
Mybatis与Mybatis-Plus
	基于Mybatis和MybatisPlus能够开发出包含基础CRUD功能的标准Dao模块
数据库MySQL
	能够读懂基础CRUD功能的SQL语句
服务器
	知道服务器与web工程的关系，熟悉web服务器的基础配置
maven
	知道maven的依赖关系，知道什么是依赖范围，依赖传递，排除依赖，可选依赖，继承
web技术（含vue，ElementUI)
	知道vue如何发送ajax请求，如何获取响应数据，如何进行数据模型双向绑定
</code></pre>
<h1 id="03-springboot入门案例idea联网版">03-SpringBoot入门案例（Idea联网版）</h1>
<ul>
<li>SpringBoot是由Pivotal团队提供的全新框架，其设计目的是用来简化Spring应用的初始搭建以及开发过程</li>
</ul>
<p>①：创建新模块，选择Spring Initializr，并配置模块相关基础信息<br>
<img src="https://img-blog.csdnimg.cn/0839ab0b92fc4deea70e706e84c9a27d.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"><br>
②：选择当前模块需要使用的技术集<br>
<img src="https://img-blog.csdnimg.cn/5108acf698f8423aa6d0ecc73f133a4e.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"></p>
<p>③：开发控制器类</p>
<pre><code class="language-java">//Rest 模式
@RestController
@RequestMapping(&quot;/books&quot;)
public class BookController {
    @GetMapping
    public String getById() {
        System.out.println(&quot;springboot is running...&quot;);
        return &quot;springboot is running...&quot;;
    }
}
</code></pre>
<p>④：运行自动生成的Application类<br>
<img src="https://img-blog.csdnimg.cn/e0d7e6b7371845e8a91aa6aebaccc94c.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"><br>
⑤：打开浏览器访问url地址为：http://localhost:8080/books</p>
<figure data-type="image" tabindex="1"><img src="https://img-blog.csdnimg.cn/163c4ae2c0c0411a92cad10009683141.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"></figure>
<ul>
<li>最简SpringBoot程序所包含的基础文件 (pom.xml文件 和 Application类 )
<ul>
<li>pom.xml文件</li>
</ul>
</li>
</ul>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;parent&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
        &lt;version&gt;2.5.6&lt;/version&gt;
    &lt;/parent&gt;
    &lt;groupId&gt;com.example&lt;/groupId&gt;
    &lt;artifactId&gt;springboot-01-quickstart&lt;/artifactId&gt;
    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
&lt;/project&gt;
</code></pre>
<ul>
<li>Application类</li>
</ul>
<pre><code class="language-java">@SpringBootApplication
public class Springboot0101QuickstartApplication {

    public static void main(String[] args) {
        SpringApplication.run(Springboot0101QuickstartApplication.class, args);
    }

}
</code></pre>
<ul>
<li>Spring程序与SpringBoot程序对比<br>
<img src="https://img-blog.csdnimg.cn/414b7f3210694d5a8686a62ae4f9feff.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"><br>
注意:	基于idea开发SpringBoot程序需要确保联网且能够加载到程序框架结构</li>
</ul>
<p>小结:</p>
<ol>
<li>开发SpringBoot程序可以根据向导进行联网快速制作</li>
<li>SpringBoot程序需要基于JDK8进行制作</li>
<li>SpringBoot程序中需要使用何种功能通过勾选选择技术</li>
<li>运行SpringBoot程序通过运行Application程序入口进行</li>
</ol>
<h1 id="04-springboot入门案例官网创建版">04-SpringBoot入门案例（官网创建版）</h1>
<ul>
<li>基于SpringBoot官网创建项目，地址：https://start.spring.io/<br>
<img src="https://img-blog.csdnimg.cn/e74fee358083447a80a38fde8ade98e2.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"></li>
</ul>
<p>小结:</p>
<ol>
<li>打开SpringBoot官网，选择Quickstart Your Project</li>
<li>创建工程，并保存项目</li>
<li>解压项目，通过IDE导入项目</li>
</ol>
<h1 id="05-springboot入门案例阿里云版">05-SpringBoot入门案例（阿里云版）</h1>
<ul>
<li>基于阿里云创建项目，地址：https://start.aliyun.com<br>
<img src="https://img-blog.csdnimg.cn/6bcd048d7f014158b0aab0617ca36c63.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"></li>
</ul>
<p>注意事项:</p>
<ul>
<li>阿里云提供的坐标版本较低，如果需要使用高版本，进入工程后手工切换SpringBoot版本</li>
<li>阿里云提供的工程模板与Spring官网提供的工程模板略有不同</li>
</ul>
<p>小结:</p>
<ol>
<li>选择start来源为自定义URL</li>
<li>输入阿里云start地址</li>
<li>创建项目</li>
</ol>
<h1 id="06-springboot入门案例手工制作版">06-SpringBoot入门案例（手工制作版）</h1>
<ul>
<li>手工创建项目（手工导入坐标）<br>
<img src="https://img-blog.csdnimg.cn/1724035ac0724e3ca3177fd10e77f77a.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"></li>
</ul>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;
         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

    &lt;parent&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
        &lt;version&gt;2.5.6&lt;/version&gt;
    &lt;/parent&gt;

    &lt;groupId&gt;com.example&lt;/groupId&gt;
    &lt;artifactId&gt;springboot_01_04_quickstart&lt;/artifactId&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;

    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
&lt;/project&gt;
</code></pre>
<ul>
<li>手工创建项目（手工制作引导类）</li>
</ul>
<pre><code class="language-java">@SpringBootApplication
public class Application {

    public static void main(String[] args) {
        SpringApplication.run(Application.class, args);
    }

}
</code></pre>
<p>小结:</p>
<ol>
<li>创建普通Maven工程</li>
<li>继承spring-boot-starter-parent</li>
<li>添加依赖spring-boot-starter-web</li>
<li>制作引导类Application</li>
</ol>
<p>总结:</p>
<ol>
<li>创建SpringBoot工程的四种方式<br>
基于Idea创建SpringBoot工程<br>
基于官网创建SpringBoot工程<br>
基于阿里云创建SpringBoot工程<br>
<strong>手工创建Maven工程修改为SpringBoot工程</strong></li>
</ol>
<h1 id="07-教你一招隐藏文件或文件夹">07-教你一招：隐藏文件或文件夹</h1>
<ul>
<li>.mvn;.gitignore;HELP.md;mvnw;mvnw.cmd;*.iml;<br>
<img src="https://img-blog.csdnimg.cn/e2014530ac5b432ba546e44ec00c1ca4.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"></li>
</ul>
<p>2018版的做法:<br>
<img src="https://img-blog.csdnimg.cn/52caab4e4aae44aa98a3fc8815c93083.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"><br>
较新版本的做法 :<br>
<img src="https://img-blog.csdnimg.cn/fd8efbad436e406c900ad501d3af496e.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"><br>
小结:</p>
<ol>
<li>Idea中隐藏指定文件或指定类型文件<br>
Setting → File Types → Ignored Files and Folders<br>
输入要隐藏的文件名，支持*号通配符<br>
回车确认添加</li>
</ol>
<h1 id="08-入门案例解析parent">08-入门案例解析：parent</h1>
<figure data-type="image" tabindex="2"><img src="https://img-blog.csdnimg.cn/7cc7cea23a274189855c039ea6c8613a.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"></figure>
<ul>
<li>parent</li>
</ul>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;parent&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
        &lt;version&gt;2.5.6&lt;/version&gt;
    &lt;/parent&gt;
    &lt;groupId&gt;com.example&lt;/groupId&gt;
    &lt;artifactId&gt;springboot-01-quickstart&lt;/artifactId&gt;
    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
&lt;/project&gt;
</code></pre>
<p>按住Ctrl点击pom.xml中的spring-boot-starter-parent，跳转到了spring-boot-starter-parent的pom.xml，xml配置如下（只摘抄了部分重点配置）：</p>
<pre><code class="language-xml">  &lt;parent&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;
    &lt;version&gt;2.5.6&lt;/version&gt;
  &lt;/parent&gt;
</code></pre>
<p>按住Ctrl点击pom.xml中的spring-boot-starter-dependencies，跳转到了spring-boot-starter-dependencies的pom.xml，xml配置如下（只摘抄了部分重点配置）：</p>
<pre><code class="language-xml">&lt;properties&gt;
  	&lt;activemq.version&gt;5.15.3&lt;/activemq.version&gt;
  	&lt;antlr2.version&gt;2.7.7&lt;/antlr2.version&gt;
  	&lt;appengine-sdk.version&gt;1.9.63&lt;/appengine-sdk.version&gt;
  	&lt;artemis.version&gt;2.4.0&lt;/artemis.version&gt;
  	&lt;aspectj.version&gt;1.8.13&lt;/aspectj.version&gt;
  	&lt;assertj.version&gt;3.9.1&lt;/assertj.version&gt;
  	&lt;atomikos.version&gt;4.0.6&lt;/atomikos.version&gt;
  	&lt;bitronix.version&gt;2.1.4&lt;/bitronix.version&gt;
  	&lt;build-helper-maven-plugin.version&gt;3.0.0&lt;/build-helper-maven-plugin.version&gt;
  	&lt;byte-buddy.version&gt;1.7.11&lt;/byte-buddy.version&gt;
  	... ... ...
&lt;/properties&gt;
&lt;dependencyManagement&gt;
  	&lt;dependencies&gt;
      	&lt;dependency&gt;
        	&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        	&lt;artifactId&gt;spring-boot&lt;/artifactId&gt;
        	&lt;version&gt;2.0.1.RELEASE&lt;/version&gt;
      	&lt;/dependency&gt;
      	&lt;dependency&gt;
        	&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        	&lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;
        	&lt;version&gt;2.0.1.RELEASE&lt;/version&gt;
      	&lt;/dependency&gt;
      	... ... ...
	&lt;/dependencies&gt;
&lt;/dependencyManagement&gt;
&lt;build&gt;
  	&lt;pluginManagement&gt;
    	&lt;plugins&gt;
      		&lt;plugin&gt;
        		&lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;
        		&lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;
        		&lt;version&gt;${kotlin.version}&lt;/version&gt;
      		&lt;/plugin&gt;
      		&lt;plugin&gt;
        		&lt;groupId&gt;org.jooq&lt;/groupId&gt;
        		&lt;artifactId&gt;jooq-codegen-maven&lt;/artifactId&gt;
        		&lt;version&gt;${jooq.version}&lt;/version&gt;
      		&lt;/plugin&gt;
      		&lt;plugin&gt;
        		&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        		&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
        		&lt;version&gt;2.0.1.RELEASE&lt;/version&gt;
      		&lt;/plugin&gt;
          	... ... ...
    	&lt;/plugins&gt;
  	&lt;/pluginManagement&gt;
&lt;/build&gt;
</code></pre>
<p>从上面的spring-boot-starter-dependencies的pom.xml中我们可以发现，一部分坐标的版本、依赖管理、插件管理已经定义好，所以我们的SpringBoot工程继承spring-boot-starter-parent后已经具备版本锁定等配置了。所以起步依赖的作用就是进行依赖的传递。</p>
<p>小结:</p>
<ol>
<li>开发SpringBoot程序要继承spring-boot-starter-parent</li>
<li>spring-boot-starter-parent中定义了若干个依赖管理</li>
<li>继承parent模块可以避免多个依赖使用相同技术时出现依赖版本冲突</li>
<li>继承parent的形式也可以采用引入依赖的形式实现效果</li>
</ol>
<h1 id="09-入门案例解析starter">09-入门案例解析：starter</h1>
<ul>
<li>spring-boot-starter-web.pom<br>
按住Ctrl点击pom.xml中的spring-boot-starter-web，跳转到了spring-boot-starter-web的pom.xml，xml配置如下（只摘抄了部分重点配置）：</li>
</ul>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;
  	&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
  	&lt;parent&gt;
    	&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    	&lt;artifactId&gt;spring-boot-starters&lt;/artifactId&gt;
    	&lt;version&gt;2.0.1.RELEASE&lt;/version&gt;
  	&lt;/parent&gt;
  	&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
  	&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
  	&lt;version&gt;2.0.1.RELEASE&lt;/version&gt;
  	&lt;name&gt;Spring Boot Web Starter&lt;/name&gt;
  
  	&lt;dependencies&gt;
    	&lt;dependency&gt;
      		&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      		&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;
      		&lt;version&gt;2.0.1.RELEASE&lt;/version&gt;
      		&lt;scope&gt;compile&lt;/scope&gt;
    	&lt;/dependency&gt;
    	&lt;dependency&gt;
      		&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      		&lt;artifactId&gt;spring-boot-starter-json&lt;/artifactId&gt;
      		&lt;version&gt;2.0.1.RELEASE&lt;/version&gt;
      		&lt;scope&gt;compile&lt;/scope&gt;
    	&lt;/dependency&gt;
    	&lt;dependency&gt;
      		&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      		&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;
      		&lt;version&gt;2.0.1.RELEASE&lt;/version&gt;
      		&lt;scope&gt;compile&lt;/scope&gt;
    	&lt;/dependency&gt;
    	&lt;dependency&gt;
      		&lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;
      		&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;
      		&lt;version&gt;6.0.9.Final&lt;/version&gt;
      		&lt;scope&gt;compile&lt;/scope&gt;
    	&lt;/dependency&gt;
    	&lt;dependency&gt;
      		&lt;groupId&gt;org.springframework&lt;/groupId&gt;
      		&lt;artifactId&gt;spring-web&lt;/artifactId&gt;
      		&lt;version&gt;5.0.5.RELEASE&lt;/version&gt;
      		&lt;scope&gt;compile&lt;/scope&gt;
    	&lt;/dependency&gt;
    	&lt;dependency&gt;
      		&lt;groupId&gt;org.springframework&lt;/groupId&gt;
      		&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;
      		&lt;version&gt;5.0.5.RELEASE&lt;/version&gt;
      		&lt;scope&gt;compile&lt;/scope&gt;
    	&lt;/dependency&gt;
  	&lt;/dependencies&gt;
&lt;/project&gt;
</code></pre>
<p>从上面的spring-boot-starter-web的pom.xml中我们可以发现，spring-boot-starter-web就是将web开发要使用的spring-web、spring-webmvc等坐标进行了“打包”，这样我们的工程只要引入spring-boot-starter-web起步依赖的坐标就可以进行web开发了，同样体现了依赖传递的作用。<br>
<img src="https://img-blog.csdnimg.cn/fa715bd348524022b66380523392144f.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"></p>
<ul>
<li>starter<br>
SpringBoot中常见项目名称，定义了当前项目使用的所有依赖坐标，以达到减少依赖配置的目的</li>
<li>parent<br>
所有SpringBoot项目要继承的项目，定义了若干个坐标版本号（依赖管理，而非依赖），以达到减少依赖冲突的目的<br>
spring-boot-starter-parent各版本间存在着诸多坐标版本不同</li>
<li>实际开发<br>
使用任意坐标时，仅书写GAV(groupId, artifactId, version)中的G和A，V由SpringBoot提供，除非SpringBoot未提供对应版本V<br>
如发生坐标错误，再指定Version（要小心版本冲突）</li>
</ul>
<p>小结:</p>
<ol>
<li>开发SpringBoot程序需要导入坐标时通常导入对应的starter</li>
<li>每个不同的starter根据功能不同，通常包含多个依赖坐标</li>
<li>使用starter可以实现快速配置的效果，达到简化配置的目的</li>
</ol>
<h1 id="10-入门案例解析引导类">10-入门案例解析：引导类</h1>
<ul>
<li>启动方式</li>
</ul>
<pre><code class="language-java">@SpringBootApplication
public class Springboot0101QuickstartApplication {

    public static void main(String[] args) {
        ConfigurableApplicationContext ctx = SpringApplication.run(Springboot0101QuickstartApplication.class, args);
        //获取bean对象
        BookController bean = ctx.getBean(BookController.class);
        System.out.println(&quot;bean======&gt;&quot; + bean);
    }
}
</code></pre>
<ul>
<li>SpringBoot的引导类是Boot工程的执行入口，运行main方法就可以启动项目</li>
<li>SpringBoot工程运行后初始化Spring容器，扫描引导类所在包加载bean</li>
</ul>
<p>小结:</p>
<ol>
<li>SpringBoot工程提供引导类用来启动程序</li>
<li>SpringBoot工程启动后创建并初始化Spring容器</li>
</ol>
<h1 id="11-入门案例辅助功能">11-入门案例：辅助功能</h1>
<ul>
<li>辅助功能 内嵌tomcat<br>
<img src="https://img-blog.csdnimg.cn/98a74e208b8242dfa4cce4a9dddf466f.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"></li>
<li>使用maven依赖管理变更起步依赖项</li>
</ul>
<pre><code class="language-xml">    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
            &lt;!--web 起步依赖环境中，排除 Tomcat 起步依赖 --&gt;
            &lt;exclusions&gt;
                &lt;exclusion&gt;
                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;
                &lt;/exclusion&gt;
            &lt;/exclusions&gt;
        &lt;/dependency&gt;
        &lt;!-- 添加 Jetty 起步依赖，版本由 SpringBoot 的 starter 控制 --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
</code></pre>
<ul>
<li>Jetty比Tomcat更轻量级，可扩展性更强（相较于Tomcat），谷歌应用引擎（GAE）已经全面切换为Jetty</li>
<li>内置服务器<br>
tomcat(默认)	apache出品，粉丝多，应用面广，负载了若干较重的组件<br>
jetty					更轻量级，负载性能远不及tomcat<br>
undertow			undertow，负载性能勉强跑赢tomcat</li>
</ul>
<p>小结:</p>
<ol>
<li>内嵌Tomcat服务器是SpringBoot辅助功能之一</li>
<li>内嵌Tomcat工作原理是将Tomcat服务器作为对象运行，并将该对象交给Spring容器管理</li>
<li>变更内嵌服务器思想是去除现有服务器，添加全新的服务器</li>
</ol>
<h2 id="总结">总结:</h2>
<ol>
<li>入门案例（4种方式）</li>
<li>SpringBoot概述<br>
parent<br>
starter<br>
引导类<br>
辅助功能（内嵌tomcat）</li>
</ol>
<h1 id="12-教你一招复制模块">12-教你一招：复制模块</h1>
<ul>
<li>原则<br>
保留工程基础结构<br>
抹掉原始工程痕迹<br>
<img src="https://img-blog.csdnimg.cn/c6454eaca62a4b849a40c9a57b82f06a.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"></li>
</ul>
<p>小结:</p>
<ol>
<li>在工作空间中复制对应工程，并修改工程名称</li>
<li>删除与Idea相关配置文件，仅保留src目录与pom.xml文件</li>
<li>修改pom.xml文件中的artifactId与新工程/模块名相同</li>
<li>删除name标签（可选）</li>
<li>保留备份工程供后期使用</li>
</ol>
<h1 id="13-属性配置方式">13-属性配置方式</h1>
<ul>
<li>修改服务器端口<br>
<img src="https://img-blog.csdnimg.cn/e6418b08801140318e071b8775b4898c.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"></li>
<li>SpringBoot默认配置文件application.properties，通过键值对配置对应属性</li>
<li>修改配置<br>
修改服务器端口<pre><code class="language-bash"># 服务器端口配制
server.port=80
</code></pre>
</li>
</ul>
<p>小结:</p>
<ol>
<li>SpringBoot默认配置文件application.properties</li>
</ol>
<h1 id="14-基础配置">14-基础配置</h1>
<ol>
<li>修改配置<br>
修改服务器端口<br>
server.port=80<br>
关闭运行日志图标（banner）<br>
spring.main.banner-mode=off<br>
设置日志相关<br>
logging.level.root=debug</li>
</ol>
<pre><code class="language-bash"># 服务器端口配置
server.port=80

# 修改banner
# spring.main.banner-mode=off
# spring.banner.image.location=logo.png

# 日志
logging.level.root=info
</code></pre>
<ol start="2">
<li>SpringBoot内置属性查询<br>
https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties<br>
官方文档中参考文档第一项：Application Propertie</li>
</ol>
<p>小结:</p>
<ol>
<li>SpringBoot中导入对应starter后，提供对应配置属性</li>
<li>书写SpringBoot配置采用关键字+提示形式书写</li>
</ol>
<h1 id="15-3种配置文件类型">15-3种配置文件类型</h1>
<ul>
<li>配置文件格式<br>
<img src="https://img-blog.csdnimg.cn/36a410c00f9e42c89f24bdf75b0f48d5.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"></li>
<li>SpringBoot提供了多种属性配置方式</li>
</ul>
<ol>
<li>application.properties</li>
</ol>
<pre><code class="language-bash">server.port=80
</code></pre>
<ol start="2">
<li>application.yml</li>
</ol>
<pre><code class="language-yaml">server:
  port: 81
</code></pre>
<ol start="3">
<li>application.yaml</li>
</ol>
<pre><code class="language-yaml">server:
  port: 82
</code></pre>
<figure data-type="image" tabindex="3"><img src="https://img-blog.csdnimg.cn/76cb70b654bc412f8f46c7dd19a8d1e0.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"></figure>
<p>小结:</p>
<ol>
<li>SpringBoot提供了3种配置文件的格式<br>
properties（传统格式/默认格式）<br>
<strong>yml（主流格式）</strong><br>
yaml</li>
</ol>
<h1 id="16-配置文件加载优先级">16-配置文件加载优先级</h1>
<ul>
<li>SpringBoot配置文件加载顺序<br>
application.properties &gt; application.yml &gt; application.yaml</li>
<li>常用配置文件种类<br>
application.yml</li>
</ul>
<p>小结:</p>
<ol>
<li>配置文件间的加载优先级<br>
properties（最高）<br>
yml<br>
yaml（最低）</li>
<li>不同配置文件中相同配置按照加载优先级相互覆盖 (<strong>高优先级配置内容会覆盖低优先级配置内容</strong>)，不同配置文件中不同配置全部保留</li>
</ol>
<h1 id="17-教你一招属性提示消失解决方案">17-教你一招：属性提示消失解决方案</h1>
<p><img src="https://img-blog.csdnimg.cn/cdea13a6b8514c51a842920f8516b73f.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"><br>
<img src="https://img-blog.csdnimg.cn/505e5dd390a940aaac58ea8552c53d08.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"><br>
小结:</p>
<ol>
<li>指定SpringBoot配置文件<br>
Setting → Project Structure → Facets<br>
选中对应项目/工程<br>
Customize Spring Boot<br>
选择配置文件</li>
</ol>
<h1 id="18-yaml数据格式">18-yaml数据格式</h1>
<h2 id="yaml">yaml</h2>
<ul>
<li>YAML（YAML Ain't Markup Language），一种数据序列化格式</li>
</ul>
<ol>
<li>
<p>优点：</p>
<ul>
<li>容易阅读</li>
<li>容易与脚本语言交互</li>
<li>以数据为核心，重数据轻格式</li>
</ul>
</li>
<li>
<p>YAML文件扩展名</p>
<ul>
<li>.yml（<strong>主流</strong>）</li>
<li>.yaml</li>
</ul>
</li>
</ol>
<h2 id="yaml语法规则">yaml语法规则</h2>
<h3 id="基本语法">基本语法</h3>
<ul>
<li><code>key: value</code> -&gt; <strong>value</strong> 前面一定要有<strong>空格</strong></li>
<li>大小写<strong>敏感</strong></li>
<li>属性层级关系使用多行描述，每行结尾使用冒号结束</li>
<li>使用<strong>缩进</strong>表示层级关系，同层级<strong>左侧对齐</strong>，只允许使用<strong>空格</strong>（不允许使用Tab键）</li>
<li>属性值前面添加空格（属性名与属性值之间使用冒号+空格作为分隔）</li>
<li><code>#</code> 表示注释</li>
<li>核心规则：<strong>数据前面要加空格与冒号隔开</strong></li>
</ul>
<pre><code class="language-yaml">server:
  servlet:
    context-path: /hello
  port: 82
</code></pre>
<h3 id="数据类型">数据类型</h3>
<ul>
<li>字面值表示方式<br>
<img src="https://img-blog.csdnimg.cn/8adfbf4c27ca407d8567716e62f8e83c.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"></li>
</ul>
<pre><code class="language-yaml"># 字面值表示方式

boolean: TRUE       #TRUE,true,True,FALSE,false ， False 均可
float: 3.14         #6.8523015e+5 # 支持科学计数法
int: 123            #0b1010_0111_0100_1010_1110 # 支持二进制、八进制、十六进制
# null: ~             # 使用 ~ 表示 null
string: HelloWorld  # 字符串可以直接书写
string2: &quot;Hello World&quot;  # 可以使用双引号包裹特殊字符
date: 2018-02-17        # 日期必须使用 yyyy-MM-dd 格式
datetime: 2018-02-17T15:02:31+08:00   # 时间和日期之间使用 T 连接，最后使用 + 代表时区

</code></pre>
<ul>
<li>数组表示方式：在属性名书写位置的下方使用减号作为数据开始符号，每行书写一个数据，减号与数据间空格分隔<br>
<img src="https://img-blog.csdnimg.cn/516176cc575049a4b41d3353100f26b1.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"></li>
</ul>
<pre><code class="language-yaml">subject:
  - Java
  - 前端
  - 大数据

enterprise:
  name: zhangsan
  age: 16

subject2:
  - Java
  - 前端
  - 大数据
likes: [王者荣耀,刺激战场] # 数组书写缩略格式


users: # 对象数组格式
  - name: Tom
    age: 4

  - name: Jerry
    age: 5
users2: # 对象数组格式二
  -
    name: Tom
    age: 4
  -
    name: Jerry
    age: 5

# 对象数组缩略格式
users3: [ { name:Tom , age:4 } , { name:Jerry , age:5 } ]


</code></pre>
<p>小结:</p>
<pre><code class="language-yaml">1. yaml语法规则
	大小写敏感
	属性层级关系使用多行描述，每行结尾使用冒号结束
	使用缩进表示层级关系，同层级左侧对齐，只允许使用空格（不允许使用Tab键）
	属性值前面添加空格（属性名与属性值之间使用冒号+空格作为分隔）
	# 表示注释
2. 注意属性名冒号后面与数据之间有一个空格
3. 字面值、对象数据格式、数组数据格式（略）
</code></pre>
<h1 id="19-读取yaml单一属性数据">19-读取yaml单一属性数据</h1>
<ul>
<li>使用@Value读取单个数据，属性名引用方式：${一级属性名.二级属性名……}<br>
<img src="https://img-blog.csdnimg.cn/18fece154b904361b4504388b8eddf86.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"></li>
</ul>
<pre><code class="language-java">    @Value(&quot;${country}&quot;)
    private String country1;

    @Value(&quot;${user.age}&quot;)
    private String age1;

    @Value(&quot;${likes[1]}&quot;)
    private String likes1;

    @Value(&quot;${users[1].name}&quot;)
    private String name1;


    @GetMapping
    public String getById() {
        System.out.println(&quot;springboot is running2...&quot;);
        System.out.println(&quot;country1=&gt;&quot; + country1);
        System.out.println(&quot;age1=&gt;&quot; + age1);
        System.out.println(&quot;likes1=&gt;&quot; + likes1);
        System.out.println(&quot;name1=&gt;&quot; + name1);
        return &quot;springboot is running2...&quot;;
    }
</code></pre>
<p>小结:</p>
<ol>
<li>使用@Value配合SpEL读取单个数据</li>
<li>如果数据存在多层级，依次书写层级名称即可</li>
</ol>
<h1 id="20-yaml文件中的变量引用">20-yaml文件中的变量引用</h1>
<ul>
<li>
<p>在配置文件中可以使用属性名引用方式引用属性<br>
<img src="https://img-blog.csdnimg.cn/9136f8f352b54c4184ac069a34f49611.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"><br>
<img src="https://img-blog.csdnimg.cn/1d1e401037e442b09005e175ae93ff3a.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"></p>
</li>
<li>
<p>属性值中如果出现转移字符，需要使用双引号包裹<br>
<img src="https://img-blog.csdnimg.cn/4a17254ad96a454987f0c64223af554a.png" alt="在这里插入图片描述" loading="lazy"></p>
</li>
</ul>
<p>小结:</p>
<ol>
<li>在配置文件中可以使用${属性名}方式引用属性值</li>
<li>如果属性中出现特殊字符，可以使用双引号包裹起来作为字符解析</li>
</ol>
<h1 id="21-读取yaml全部属性数据">21-读取yaml全部属性数据</h1>
<ul>
<li>封装全部数据到Environment对象</li>
<li>注意 要导这个 包</li>
<li><strong>import org.springframework.core.env.Environment;</strong><br>
<img src="https://img-blog.csdnimg.cn/ed4baa57eda34773b40c3a97422a81e9.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"><br>
<img src="https://img-blog.csdnimg.cn/1700017907384046addf32a0e2415f3a.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"></li>
</ul>
<p>小结:</p>
<ol>
<li>使用Environment对象封装全部配置信息</li>
<li>使用@Autowired自动装配数据到Environment对象中</li>
</ol>
<h1 id="22-读取yaml引用类型属性数据">22-读取yaml引用类型属性数据</h1>
<ul>
<li>自定义对象封装指定数据<br>
<img src="https://img-blog.csdnimg.cn/2ca987772d7f43f394abf299eacccf3d.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"></li>
<li>自定义对象封装指定数据的作用<br>
<img src="https://img-blog.csdnimg.cn/c3dc819fbfc64fbabeacf0e6536ff9d5.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"></li>
</ul>
<pre><code class="language-java">//1.定义数据模型封装yaml文件中对应的数据
//2.定义为spring管控的bean
@Component
//3.指定加载的数据
@ConfigurationProperties(prefix = &quot;datasource&quot;)
public class MyDataSource {

    private String driver;
    private String url;
    private String username;
    private String password;
	
	//省略get/set/tostring 方法
}    
</code></pre>
<pre><code class="language-java">    @Autowired
    private MyDataSource myDataSource;
</code></pre>
<pre><code class="language-yaml"># 创建类，用于封装下面的数据
# 由spring帮我们去加载数据到对象中，一定要告诉spring加载这组信息
# 使用时候从spring中直接获取信息使用

datasource:
  driver: com.mysql.jdbc.Driver
  url: jdbc:mysql://localhost/springboot_db
  username: root
  password: root666123
</code></pre>
<p>小结:</p>
<ol>
<li>使用@ConfigurationProperties注解绑定配置信息到封装类中</li>
<li>封装类需要定义为Spring管理的bean，否则无法进行属性注入</li>
</ol>
<h1 id="23-springboot整合junit">23-SpringBoot整合JUnit</h1>
<ul>
<li>添加Junit的起步依赖 Spring Initializr 创建时自带</li>
</ul>
<pre><code class="language-xml">&lt;!--测试的起步依赖--&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
    &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
</code></pre>
<ul>
<li>SpringBoot整合JUnit</li>
</ul>
<pre><code class="language-java">@SpringBootTest
class Springboot07JunitApplicationTests {
	@Autowired
	private BookService bookService;
	@Test
	public void testSave(){
		bookService.save();
	}
}
</code></pre>
<ul>
<li>@SpringBootTest<br>
名称：@SpringBootTest<br>
类型：测试类注解<br>
位置：测试类定义上方<br>
作用：设置JUnit加载的SpringBoot启动类<br>
范例：</li>
</ul>
<pre><code class="language-java">@SpringBootTest
class Springboot05JUnitApplicationTests {}
</code></pre>
<p>小结:</p>
<ol>
<li>导入测试对应的starter</li>
<li>测试类使用@SpringBootTest修饰</li>
<li>使用自动装配的形式添加要测试的对象</li>
</ol>
<h1 id="24-整合junitclasses属性">24-整合JUnit——classes属性</h1>
<figure data-type="image" tabindex="4"><img src="https://img-blog.csdnimg.cn/a5ff949c6b094e57b7510b1352b53926.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"></figure>
<pre><code class="language-java">@SpringBootTest(classes = Springboot04JunitApplication.class)
//@ContextConfiguration(classes = Springboot04JunitApplication.class)
class Springboot04JunitApplicationTests {
    //1.注入你要测试的对象
    @Autowired
    private BookDao bookDao;

    @Test
    void contextLoads() {
        //2.执行要测试的对象对应的方法
        bookDao.save();
        System.out.println(&quot;two...&quot;);
    }

}
</code></pre>
<p>注意:</p>
<ul>
<li>如果测试类在SpringBoot启动类的包或子包中，可以省略启动类的设置，也就是省略classes的设定</li>
</ul>
<p>小结:</p>
<ol>
<li>测试类如果存在于引导类所在包或子包中无需指定引导类</li>
<li>测试类如果不存在于引导类所在的包或子包中需要通过 classes 属性指定引导类</li>
</ol>
<h1 id="25-springboot整合mybatis">25-SpringBoot整合MyBatis</h1>
<p>①：创建新模块，选择Spring初始化，并配置模块相关基础信息<br>
<img src="https://img-blog.csdnimg.cn/a0b3488f2acf47ba84e4ea2aed8ec631.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"><br>
②：选择当前模块需要使用的技术集（MyBatis、MySQL）<br>
<img src="https://img-blog.csdnimg.cn/a22c35c2d7b04746aca34fd386b10c64.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"><br>
③：设置数据源参数</p>
<pre><code class="language-yaml">#DB Configuration:
spring:
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/springboot_db
    username: root
    password: 123456
</code></pre>
<p>④：创建user表<br>
在 springboot_db 数据库中创建 user 表</p>
<pre><code class="language-sql">-- ----------------------------
-- Table structure for `user`
-- ----------------------------
DROP TABLE IF EXISTS `user`;
CREATE TABLE `user` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `username` varchar(50) DEFAULT NULL,
  `password` varchar(50) DEFAULT NULL,
  `name` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=10 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of user
-- ----------------------------
INSERT INTO `user` VALUES ('1', 'zhangsan', '123', '张三');
INSERT INTO `user` VALUES ('2', 'lisi', '123', '李四');
</code></pre>
<p>⑤：创建实体Bean</p>
<pre><code class="language-java">public class User {
    // 主键
    private Long id;
    // 用户名
    private String username;
    // 密码
    private String password;
    // 姓名
    private String name;
  
    //此处省略getter,setter,toString方法 .. ..
    
}
</code></pre>
<p>⑥:	定义数据层接口与映射配置</p>
<pre><code class="language-java">@Mapper
public interface UserDao {

    @Select(&quot;select * from user&quot;)
    public List&lt;User&gt; getAll();
}
</code></pre>
<p>⑦：测试类中注入dao接口，测试功能</p>
<pre><code class="language-java">@SpringBootTest
class Springboot05MybatisApplicationTests {

    @Autowired
    private UserDao userDao;

    @Test
    void contextLoads() {
        List&lt;User&gt; userList = userDao.getAll();
        System.out.println(userList);
    }

}
</code></pre>
<p>⑧：运行如下</p>
<pre><code class="language-bash">[User{id=1, username='zhangsan', password='123', name='张三'}, User{id=2, username='lisi', password='123', name='李四'}]
</code></pre>
<p>总结:</p>
<ol>
<li>勾选MyBatis技术，也就是导入MyBatis对应的starter</li>
<li>数据库连接相关信息转换成配置</li>
<li>数据库SQL映射需要添加@Mapper被容器识别到</li>
</ol>
<h1 id="26-springboot整合mybatis常见问题处理">26-SpringBoot整合MyBatis常见问题处理</h1>
<p>SpringBoot版本低于2.4.3(不含)，Mysql驱动版本大于8.0时，需要在url连接串中配置时区</p>
<pre><code class="language-yaml">jdbc:mysql://localhost:3306/springboot_db?serverTimezone=UTC
</code></pre>
<p>或在MySQL数据库端配置时区解决此问题</p>
<p>1.MySQL 8.X驱动强制要求设置时区</p>
<ul>
<li>修改url，添加serverTimezone设定</li>
<li>修改MySQL数据库配置（略）</li>
</ul>
<p>2.驱动类过时，提醒更换为com.mysql.cj.jdbc.Driver</p>
<h1 id="27-springboot整合mybatisplus">27-SpringBoot整合MyBatisPlus</h1>
<p><img src="https://img-blog.csdnimg.cn/c93496840bd44dcb9b754368fc65b8c7.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"><br>
①：手动添加SpringBoot整合MyBatis-Plus的坐标，可以通过mvnrepository获取</p>
<pre><code class="language-xml">   &lt;dependency&gt;
       &lt;groupId&gt;com.baomidou&lt;/groupId&gt;
       &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt;
       &lt;version&gt;3.4.3&lt;/version&gt;
   &lt;/dependency&gt;
</code></pre>
<p>注意事项:	由于SpringBoot中未收录MyBatis-Plus的坐标版本，需要指定对应的Version</p>
<p>②：定义数据层接口与映射配置，继承BaseMapper</p>
<pre><code class="language-java">@Mapper
public interface UserDao extends BaseMapper&lt;User&gt; {

}
</code></pre>
<p>③：其他同SpringBoot整合MyBatis<br>
（略）</p>
<p>④：测试类中注入dao接口，测试功能</p>
<pre><code class="language-java">@SpringBootTest
class Springboot06MybatisPlusApplicationTests {

    @Autowired
    private UserDao userDao;

    @Test
    void contextLoads() {
        List&lt;User&gt; users = userDao.selectList(null);
        System.out.println(users);
    }

}

</code></pre>
<p>⑤:	运行如下:</p>
<pre><code class="language-java">[User{id=1, username='zhangsan', password='123', name='张三'}, User{id=2, username='lisi', password='123', name='李四'}]
</code></pre>
<p><strong>注意</strong>:	如果你的数据库表有前缀要在 application.yml 添加如下配制</p>
<pre><code class="language-yaml">#设置Mp相关的配置
mybatis-plus:
  global-config:
    db-config:
      table-prefix: tbl_
</code></pre>
<p>小结:<br>
1.手工添加MyBatis-Plus对应的starter<br>
2.数据层接口使用BaseMapper简化开发<br>
3.需要使用的第三方技术无法通过勾选确定时，需要手工添加坐标</p>
<h1 id="28-springboot整合druid">28-SpringBoot整合Druid</h1>
<p><img src="https://img-blog.csdnimg.cn/01f38eb4c4164996a36a68975b2c36da.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"><br>
①:	导入Druid对应的starter</p>
<pre><code class="language-xml">   &lt;dependency&gt;
       &lt;groupId&gt;com.alibaba&lt;/groupId&gt;
       &lt;artifactId&gt;druid-spring-boot-starter&lt;/artifactId&gt;
       &lt;version&gt;1.2.6&lt;/version&gt;
   &lt;/dependency&gt;
</code></pre>
<p>②:	指定数据源类型 (这种方式只需导入一个 Druid 的坐标)</p>
<pre><code class="language-yaml">#DB Configuration:
spring:
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/springboot_db?serverTimezone=UTC
    username: root
    password: 123456
    type: com.alibaba.druid.pool.DruidDataSource
</code></pre>
<p><strong>或者 变更Druid的配置方式(推荐) 这种方式需要导入 Druid对应的starter</strong></p>
<pre><code class="language-yaml">spring:
  datasource:
    druid:
      driver-class-name: com.mysql.cj.jdbc.Driver
      url: jdbc:mysql://localhost:3306/springboot_db?serverTimezone=UTC
      username: root
      password: 123456
</code></pre>
<p>小结:</p>
<p>1.整合Druid需要导入Druid对应的starter<br>
2.根据Druid提供的配置方式进行配置<br>
3.整合第三方技术通用方式</p>
<ul>
<li>导入对应的starter</li>
<li>根据提供的配置格式，配置非默认值对应的配置项</li>
</ul>
<h1 id="29-ssmp整合案例制作分析">29-SSMP整合案例制作分析</h1>
<h2 id="案例效果演示">案例效果演示:</h2>
<figure data-type="image" tabindex="5"><img src="https://img-blog.csdnimg.cn/0c7fddc8737f4d0db4c494e7162ba132.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"></figure>
<h2 id="案例实现方案分析与流程解析">案例实现方案分析与流程解析</h2>
<pre><code class="language-bash">1. 案例实现方案分析
	实体类开发————使用Lombok快速制作实体类
	Dao开发————整合MyBatisPlus，制作数据层测试类
	Service开发————基于MyBatisPlus进行增量开发，制作业务层测试类
	Controller开发————基于Restful开发，使用PostMan测试接口功能
	Controller开发————前后端开发协议制作
	页面开发————基于VUE+ElementUI制作，前后端联调，页面数据处理，页面消息处理
		列表、新增、修改、删除、分页、查询
	项目异常处理
	按条件查询————页面功能调整、Controller修正功能、Service修正功能
2. SSMP案例制作流程解析
	先开发基础CRUD功能，做一层测一层
	调通页面，确认异步提交成功后，制作所有功能
	添加分页功能与查询功能
</code></pre>
<h1 id="30-模块创建">30-模块创建</h1>
<p><img src="https://img-blog.csdnimg.cn/3a77fb8804f54341bf7bc08d95aac49f.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"><br>
<img src="https://img-blog.csdnimg.cn/c15a95bf6dcd4f5b97157dc3106e3009.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_10,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"></p>
<p>pom.xml</p>
<pre><code class="language-xml">   &lt;dependencies&gt;
       &lt;dependency&gt;
           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
           &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
       &lt;/dependency&gt;

       &lt;dependency&gt;
           &lt;groupId&gt;mysql&lt;/groupId&gt;
           &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
           &lt;scope&gt;runtime&lt;/scope&gt;
       &lt;/dependency&gt;

       &lt;dependency&gt;
           &lt;groupId&gt;com.baomidou&lt;/groupId&gt;
           &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt;
           &lt;version&gt;3.4.3&lt;/version&gt;
       &lt;/dependency&gt;

       &lt;dependency&gt;
           &lt;groupId&gt;com.alibaba&lt;/groupId&gt;
           &lt;artifactId&gt;druid-spring-boot-starter&lt;/artifactId&gt;
           &lt;version&gt;1.2.6&lt;/version&gt;
       &lt;/dependency&gt;

       &lt;dependency&gt;
           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
           &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
           &lt;scope&gt;test&lt;/scope&gt;
       &lt;/dependency&gt;

   &lt;/dependencies&gt;
</code></pre>
<h2 id="tbl_booksql">tbl_book.sql</h2>
<pre><code class="language-sql">DROP TABLE IF EXISTS `tbl_book`;
CREATE TABLE `tbl_book` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `type` varchar(20) DEFAULT NULL,
  `name` varchar(50) DEFAULT NULL,
  `description` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of tbl_book
-- ----------------------------
INSERT INTO `tbl_book` VALUES ('1', '计算机理论', 'Spring实战第5版', 'Spring入门经典教程,深入理解Spring原理技术内幕');
INSERT INTO `tbl_book` VALUES ('2', '计算机理论', 'Spring 5核心原理与30个类手写实战', '十年沉淀之作，写Spring精华思想');
INSERT INTO `tbl_book` VALUES ('3', '计算机理论', 'Spring 5设计模式', '深入Spring源码剖析Spring源码中蕴含的10大设计模式');
INSERT INTO `tbl_book` VALUES ('4', '计算机理论', 'Spring MVC+ MyBatis开发从入门到项目实战', '全方位解析面向Web应用的轻量级框架,带你成为Spring MVC开发高手');
INSERT INTO `tbl_book` VALUES ('5', '计算机理论', '轻量级Java Web企业应用实战', '源码级剖析Spring框架,适合已掌握Java基础的读者');
INSERT INTO `tbl_book` VALUES ('6', '计算机理论', 'Java核心技术卷|基础知识(原书第11版)', 'Core Java第11版，Jolt大奖获奖作品，针对Java SE9、10、 11全面更新');
INSERT INTO `tbl_book` VALUES ('7', '计算机理论', '深入理解Java虚拟机', '5个维度全面剖析JVM,面试知识点全覆盖');
INSERT INTO `tbl_book` VALUES ('8', '计算机理论', 'Java编程思想(第4版)', 'Java学习必读经典殿堂级著作!赢得了全球程序员的广泛赞誉');
INSERT INTO `tbl_book` VALUES ('9', '计算机理论', '零基础学Java (全彩版)', '零基础自学编程的入门]图书，由浅入深，详解Java语言的编程思想和核心技术');
INSERT INTO `tbl_book` VALUES ('10', '市场营销', '直播就该这么做:主播高效沟通实战指南', '李子柒、李佳琦、薇娅成长为网红的秘密都在书中');
INSERT INTO `tbl_book` VALUES ('11', '市场营销', '直播销讲实战一本通', '和秋叶一起学系列网络营销书籍');
INSERT INTO `tbl_book` VALUES ('12', '市场营销', '直播带货:淘宝、天猫直播从新手到高手', '一本教你如何玩转直播的书， 10堂课轻松实现带货月入3W+');
</code></pre>
<p>小结:</p>
<ol>
<li>勾选SpringMVC与MySQL坐标</li>
<li>修改配置文件为yml格式</li>
<li>设置端口为80方便访问<pre><code class="language-yaml">server:
  port: 80
</code></pre>
</li>
</ol>
<h1 id="31-实体类快速开发lombok">31-实体类快速开发（lombok）</h1>
<ul>
<li>Lombok，一个Java类库，提供了一组注解，简化POJO实体类开发</li>
</ul>
<pre><code class="language-xml">        &lt;!--lombok--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
            &lt;artifactId&gt;lombok&lt;/artifactId&gt;
        &lt;/dependency&gt;
</code></pre>
<ul>
<li>lombok版本由SpringBoot提供，无需指定版本</li>
<li>常用注解：@Data</li>
</ul>
<pre><code class="language-java">@Data
public class Book {
    private Integer id;
    private String type;
    private String name;
    private String description;
}
</code></pre>
<ul>
<li>为当前实体类在编译期设置对应的get/set方法，toString方法，hashCode方法，equals方法等</li>
</ul>
<p>小结:</p>
<pre><code class="language-bash">1. 实体类制作
2. 使用lombok简化开发
	导入lombok无需指定版本，由SpringBoot提供版本
	@Data注解
</code></pre>
<h1 id="32-数据层标准开发基础crud">32-数据层标准开发（基础CRUD）</h1>
<ul>
<li>导入MyBatisPlus与Druid对应的starter</li>
</ul>
<pre><code class="language-xml">        &lt;dependency&gt;
            &lt;groupId&gt;com.baomidou&lt;/groupId&gt;
            &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt;
            &lt;version&gt;3.4.3&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;
            &lt;artifactId&gt;druid-spring-boot-starter&lt;/artifactId&gt;
            &lt;version&gt;1.2.6&lt;/version&gt;
        &lt;/dependency&gt;
</code></pre>
<ul>
<li>配置数据源与MyBatisPlus对应的基础配置（id生成策略使用数据库自增策略）</li>
</ul>
<pre><code class="language-yaml"># druid 数据源配制
spring:
  datasource:
    druid:
      driver-class-name: com.mysql.cj.jdbc.Driver
      url: jdbc:mysql://localhost:3306/springboot_db?serverTimezone=UTC
      username: root
      password: 123456

# mybatis-plus
mybatis-plus:
  global-config:
    db-config:
      table-prefix: tbl_
      id-type: auto # 主键策略
</code></pre>
<ul>
<li>继承BaseMapper并指定泛型</li>
</ul>
<pre><code class="language-java">@Mapper
public interface BookDao extends BaseMapper&lt;Book&gt; {

    /**
     * 查询一个
     * 这是 Mybatis 开发
     * @param id
     * @return
     */
    @Select(&quot;select * from tbl_book where id = #{id}&quot;)
    Book getById(Integer id);
}
</code></pre>
<ul>
<li>制作测试类测试结果</li>
</ul>
<pre><code class="language-java">@SpringBootTest
public class BookDaoTestCase {

    @Autowired
    private BookDao bookDao;

    @Test
    void testGetById() {
        System.out.println(bookDao.getById(1));
        System.out.println(bookDao.selectById(1));
    }

    @Test
    void testSave() {
        Book book = new Book();
        book.setType(&quot;测试数据123&quot;);
        book.setName(&quot;测试数据123&quot;);
        book.setDescription(&quot;测试数据123&quot;);
        bookDao.insert(book);
    }

    @Test
    void testUpdate() {
        Book book = new Book();
        book.setId(13);
        book.setType(&quot;测试数据asfd&quot;);
        book.setName(&quot;测试数据123&quot;);
        book.setDescription(&quot;测试数据123&quot;);
        bookDao.updateById(book);
    }

    @Test
    void testDelete() {
        bookDao.deleteById(13);
    }

    @Test
    void testGetAll() {
        System.out.println(bookDao.selectList(null));
    }

    @Test
    void testGetPage() {
    }

    @Test
    void testGetBy() {
    }
}

</code></pre>
<p>小结:</p>
<ol>
<li>手工导入starter坐标（2个）</li>
<li>配置数据源与MyBatisPlus对应的配置</li>
<li>开发Dao接口（继承BaseMapper）</li>
<li>制作测试类测试Dao功能是否有效</li>
</ol>
<h1 id="33-开启mp运行日志">33-开启MP运行日志</h1>
<ul>
<li>为方便调试可以开启MyBatisPlus的日志</li>
</ul>
<pre><code class="language-yaml"># mybatis-plus
mybatis-plus:
  global-config:
    db-config:
      table-prefix: tbl_
      id-type: auto # 主键策略
  configuration:
    # 开启MyBatisPlus的日志
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
</code></pre>
<p>小结:</p>
<ol>
<li>使用配置方式开启日志，设置日志输出方式为标准输出<br>
<img src="https://img-blog.csdnimg.cn/a6d40f4884f945d0a0c28577885cf3d1.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"></li>
</ol>
<h1 id="34-分页">34-分页</h1>
<ul>
<li>分页操作需要设定分页对象IPage</li>
</ul>
<pre><code class="language-java">    @Test
    void testGetPage() {
        IPage page = new Page(1, 5);
        bookDao.selectPage(page, null);
    }
</code></pre>
<ul>
<li>
<p>IPage对象中封装了分页操作中的所有数据<br>
数据<br>
当前页码值<br>
每页数据总量<br>
最大页码值<br>
数据总量</p>
</li>
<li>
<p>分页操作是在MyBatisPlus的常规操作基础上增强得到，内部是动态的拼写SQL语句，因此需要增强对应的功能，<br>
使用MyBatisPlus拦截器实现</p>
</li>
</ul>
<pre><code class="language-java">@Configuration
public class MybatisPlusConfig {

    @Bean
    public MybatisPlusInterceptor mybatisPlusInterceptor() {
        //1. 定义 Mp 拦截器
        MybatisPlusInterceptor interceptor = new MybatisPlusInterceptor();
        //2. 添加具体的拦截器 分页拦截器
        interceptor.addInnerInterceptor(new PaginationInnerInterceptor());
        return interceptor;
    }
}
</code></pre>
<ul>
<li>测试</li>
</ul>
<pre><code class="language-java">    @Test
    void testGetPage() {
        IPage page = new Page(1, 5);
        bookDao.selectPage(page, null);
        System.out.println(page.getCurrent());
        System.out.println(page.getSize());
        System.out.println(page.getPages());
        System.out.println(page.getTotal());
        System.out.println(page.getRecords());
    }
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/ecdb62572ac5446bba2e89be2e2f389f.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"><br>
小结:</p>
<ol>
<li>使用IPage封装分页数据</li>
<li>分页操作依赖MyBatisPlus分页拦截器实现功能</li>
<li>借助MyBatisPlus日志查阅执行SQL语句</li>
</ol>
<h1 id="35-数据层标准开发条件查询">35-数据层标准开发（条件查询）</h1>
<ul>
<li>使用QueryWrapper对象封装查询条件，推荐使用LambdaQueryWrapper对象，所有查询操作封装成方法调用</li>
</ul>
<pre><code class="language-java">    @Test
    void testGetBy2() {
        LambdaQueryWrapper&lt;Book&gt; lambdaQueryWrapper = new LambdaQueryWrapper&lt;&gt;();
        lambdaQueryWrapper.like(Book::getName, &quot;Spring&quot;);
        bookDao.selectList(lambdaQueryWrapper);
    }
</code></pre>
<pre><code class="language-java">    @Test
    void testGetBy() {
        QueryWrapper&lt;Book&gt; queryWrapper = new QueryWrapper&lt;&gt;();
        queryWrapper.like(&quot;name&quot;, &quot;Spring&quot;);
        bookDao.selectList(queryWrapper);
    }
</code></pre>
<ul>
<li>支持动态拼写查询条件</li>
</ul>
<pre><code class="language-java">    @Test
    void testGetBy2() {
        String name = &quot;1&quot;;
        LambdaQueryWrapper&lt;Book&gt; lambdaQueryWrapper = new LambdaQueryWrapper&lt;&gt;();
        //if (name != null) lambdaQueryWrapper.like(Book::getName,name);
        lambdaQueryWrapper.like(Strings.isNotEmpty(name), Book::getName, name);
        bookDao.selectList(lambdaQueryWrapper);
    }
</code></pre>
<figure data-type="image" tabindex="6"><img src="https://img-blog.csdnimg.cn/ab95ccf9ac8f4c4baae6c94847a93544.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"></figure>
<p>小结:</p>
<ol>
<li>使用QueryWrapper对象封装查询条件</li>
<li>推荐使用LambdaQueryWrapper对象</li>
<li>所有查询操作封装成方法调用</li>
<li>查询条件支持动态条件拼装</li>
</ol>
<h1 id="36-业务层标准开发基础crud">36-业务层标准开发（基础CRUD）</h1>
<ul>
<li>
<p>Service层接口定义与数据层接口定义具有较大区别，不要混用<br>
selectByUserNameAndPassword(String username,String password); 数据层接口<br>
login(String username,String password); Service层接口</p>
</li>
<li>
<p>接口定义</p>
</li>
</ul>
<pre><code class="language-java">public interface BookService {

    Boolean save(Book book);

    Boolean update(Book book);

    Boolean delete(Integer id);

    Book getById(Integer id);

    List&lt;Book&gt; getAll();

    IPage&lt;Book&gt; getPage(int currentPage,int pageSize);
}
</code></pre>
<ul>
<li>实现类定义</li>
</ul>
<pre><code class="language-java">@Service
public class BookServiceImpl implements BookService {

    @Autowired
    private BookDao bookDao;

    @Override
    public Boolean save(Book book) {
        return bookDao.insert(book) &gt; 0;
    }

    @Override
    public Boolean update(Book book) {
        return bookDao.updateById(book) &gt; 0;
    }

    @Override
    public Boolean delete(Integer id) {
        return bookDao.deleteById(id) &gt; 0;
    }

    @Override
    public Book getById(Integer id) {
        return bookDao.selectById(id);
    }

    @Override
    public List&lt;Book&gt; getAll() {
        return bookDao.selectList(null);
    }

    @Override
    public IPage&lt;Book&gt; getPage(int currentPage, int pageSize) {
        IPage page = new Page(currentPage, pageSize);
        bookDao.selectPage(page, null);
        return page;
    }
}
</code></pre>
<ul>
<li>测试类定义</li>
</ul>
<pre><code class="language-java">@SpringBootTest
public class BookServiceTestCase {

    @Autowired
    private BookService bookService;

    @Test
    void testGetById() {
        System.out.println(bookService.getById(4));
    }

    @Test
    void testSave() {
        Book book = new Book();
        book.setType(&quot;测试数据123&quot;);
        book.setName(&quot;测试数据123&quot;);
        book.setDescription(&quot;测试数据123&quot;);
        bookService.save(book);
    }

    @Test
    void testUpdate() {
        Book book = new Book();
        book.setId(14);
        book.setType(&quot;测试数据asfd&quot;);
        book.setName(&quot;测试数据123&quot;);
        book.setDescription(&quot;测试数据123&quot;);
        bookService.update(book);
    }

    @Test
    void testDelete() {
        bookService.delete(14);
    }

    @Test
    void testGetAll() {
        System.out.println(bookService.getAll());
    }

    @Test
    void testGetPage() {
        IPage&lt;Book&gt; page = bookService.getPage(2, 5);
        System.out.println(page.getCurrent());
        System.out.println(page.getSize());
        System.out.println(page.getPages());
        System.out.println(page.getTotal());
        System.out.println(page.getRecords());
    }
}

</code></pre>
<p>小结:</p>
<ol>
<li>Service接口名称定义成业务名称，并与Dao接口名称进行区分</li>
<li>制作测试类测试Service功能是否有效</li>
</ol>
<h1 id="37-业务层快速开发基于mybatisplus构建">37-业务层快速开发（基于MyBatisPlus构建）</h1>
<ul>
<li>快速开发方案<br>
使用MyBatisPlus提供有业务层通用接口（ISerivce<T>）与业务层通用实现类（ServiceImpl&lt;M,T&gt;）<br>
在通用类基础上做功能重载或功能追加<br>
注意重载时不要覆盖原始操作，避免原始提供的功能丢失<br>
<img src="https://img-blog.csdnimg.cn/3f7f7ce8ae2c4c8ebe42503b61e183fb.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"></li>
<li>接口定义</li>
</ul>
<pre><code class="language-java">public interface IBookService extends IService&lt;Book&gt; {
}
</code></pre>
<ul>
<li>接口追加功能</li>
</ul>
<pre><code class="language-java">public interface IBookService extends IService&lt;Book&gt; {

    // 追加的操作与原始操作通过名称区分，功能类似
    Boolean delete(Integer id);

    Boolean insert(Book book);

    Boolean modify(Book book);

    Book get(Integer id);
}
</code></pre>
<figure data-type="image" tabindex="7"><img src="https://img-blog.csdnimg.cn/6bc84748f4ca42fd829a7ec6a6023dd9.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"></figure>
<ul>
<li>实现类定义</li>
</ul>
<pre><code class="language-java">@Service
public class BookServiceImpl extends ServiceImpl&lt;BookDao, Book&gt; implements IBookService {
}
</code></pre>
<ul>
<li>实现类追加功能</li>
</ul>
<pre><code class="language-java">@Service
public class BookServiceImpl extends ServiceImpl&lt;BookDao, Book&gt; implements IBookService {

    @Autowired
    private BookDao bookDao;

    public Boolean insert(Book book) {
        return bookDao.insert(book) &gt; 0;
    }

    public Boolean modify(Book book) {
        return bookDao.updateById(book) &gt; 0;
    }

    public Boolean delete(Integer id) {
        return bookDao.deleteById(id) &gt; 0;
    }

    public Book get(Integer id) {
        return bookDao.selectById(id);
    }
}
</code></pre>
<ul>
<li>测试类定义</li>
</ul>
<pre><code class="language-java">@SpringBootTest
public class BookServiceTest {

    @Autowired
    private IBookService bookService;

    @Test
    void testGetById() {
        System.out.println(bookService.getById(4));
    }

    @Test
    void testSave() {
        Book book = new Book();
        book.setType(&quot;测试数据123&quot;);
        book.setName(&quot;测试数据123&quot;);
        book.setDescription(&quot;测试数据123&quot;);
        bookService.save(book);
    }

    @Test
    void testUpdate() {
        Book book = new Book();
        book.setId(14);
        book.setType(&quot;===========&quot;);
        book.setName(&quot;测试数据123&quot;);
        book.setDescription(&quot;测试数据123&quot;);
        bookService.updateById(book);
    }

    @Test
    void testDelete() {
        bookService.removeById(14);
    }

    @Test
    void testGetAll() {
        System.out.println(bookService.list());
    }

    @Test
    void testGetPage() {
        IPage&lt;Book&gt; page = new Page&lt;&gt;(2, 5);
        bookService.page(page);
        System.out.println(page.getCurrent());
        System.out.println(page.getSize());
        System.out.println(page.getPages());
        System.out.println(page.getTotal());
        System.out.println(page.getRecords());
    }
}
</code></pre>
<p>小结：</p>
<ol>
<li>使用通用接口（ISerivce<T>）快速开发Service</li>
<li>使用通用实现类（ServiceImpl&lt;M,T&gt;）快速开发ServiceImpl</li>
<li>可以在通用接口基础上做功能重载或功能追加</li>
<li>注意重载时不要覆盖原始操作，避免原始提供的功能丢失</li>
</ol>
<h1 id="38-表现层标准开发">38-表现层标准开发</h1>
<ul>
<li>基于Restful进行表现层接口开发</li>
<li>使用Postman测试表现层接口功能</li>
</ul>
<p>表现层开发</p>
<pre><code class="language-java">@RestController
@RequestMapping(&quot;/books&quot;)
public class BookController {

    @Autowired
    private IBookService bookService;

    @GetMapping
    public List&lt;Book&gt; getAll() {
        return bookService.list();
    }

    @PostMapping
    public Boolean save(@RequestBody Book book) {
        return bookService.save(book);
    }

    @PutMapping
    public Boolean update(@RequestBody Book book) {
        return bookService.modify(book);
    }

    @DeleteMapping(&quot;{id}&quot;)
    public Boolean delete(@PathVariable Integer id) {
        return bookService.delete(id);
    }

    @GetMapping(&quot;{id}&quot;)
    public Book getById(@PathVariable Integer id) {
        return bookService.getById(id);
    }

    @GetMapping(&quot;{currentPage}/{pageSize}&quot;)
    public IPage&lt;Book&gt; getPage(@PathVariable Integer currentPage, @PathVariable int pageSize) {
        return bookService.getPage(currentPage, pageSize);
    }

}

</code></pre>
<p>添加 分页的业务层方法</p>
<p>IBookService</p>
<pre><code class="language-java"> IPage&lt;Book&gt; getPage(int currentPage,int pageSize);
</code></pre>
<p>BookServiceImpl</p>
<pre><code class="language-java">    @Override
    public IPage&lt;Book&gt; getPage(int currentPage, int pageSize) {

        IPage page = new Page(currentPage, pageSize);
        bookDao.selectPage(page, null);

        return page;
    }
</code></pre>
<p>功能测试<br>
<img src="https://img-blog.csdnimg.cn/36443892e8d244f1b9d8be0bb82fd0a3.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"><br>
<img src="https://img-blog.csdnimg.cn/7effd9c5d6a84ab985ec19967e5a8b85.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"><br>
<img src="https://img-blog.csdnimg.cn/65cc31e45a2145a1a1cebdbd3dce8c6d.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"></p>
<p><img src="https://img-blog.csdnimg.cn/ec50a6dde4aa4466a62c7235a32beb4f.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"><br>
小结:</p>
<ol>
<li>基于Restful制作表现层接口<br>
新增：POST<br>
删除：DELETE<br>
修改：PUT<br>
查询：GET</li>
<li>接收参数<br>
实体数据：@RequestBody<br>
路径变量：@PathVariable</li>
</ol>
<h1 id="39-表现层数据一致性处理r对象">39-表现层数据一致性处理（R对象）</h1>
<ul>
<li>
<p>之前的格式<br>
<img src="https://img-blog.csdnimg.cn/71bd72d8c8264ccabd5f863c15b37c7c.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"></p>
</li>
<li>
<p>增加一个  data 属性，把数据全部封装到 data 里<br>
<img src="https://img-blog.csdnimg.cn/caf493e364694ab1bdc4f8ce5726de4e.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"><br>
当数据为 null 可能出现的问题</p>
<ul>
<li>查询id不存在的数据，返回 null</li>
<li>查询过程中抛出异常，catch 中返回 null</li>
</ul>
</li>
<li>
<p>增加 一个状态属性<br>
<img src="https://img-blog.csdnimg.cn/8cf4a4669a484a64a7adfacbd1d0487b.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"></p>
</li>
<li>
<p>设计表现层返回结果的模型类，用于后端与前端进行数据格式统一，也称为<strong>前后端数据协议</strong></p>
</li>
</ul>
<pre><code class="language-java">@Data
public class R {
    private Boolean flag;
    private Object data;

    public R() {
    }

    /**
     * 不返回数据的构造方法
     *
     * @param flag
     */
    public R(Boolean flag) {
        this.flag = flag;
    }

    /**
     * 返回数据的构造方法
     *
     * @param flag
     * @param data
     */
    public R(Boolean flag, Object data) {
        this.flag = flag;
        this.data = data;
    }
}
</code></pre>
<ul>
<li>表现层接口统一返回值类型结果</li>
</ul>
<pre><code class="language-java">@RestController
@RequestMapping(&quot;/books&quot;)
public class BookController {

    @Autowired
    private IBookService bookService;

    @GetMapping
    public R getAll() {
        return new R(true, bookService.list());
    }

    @PostMapping
    public R save(@RequestBody Book book) {
        return new R(bookService.save(book));

    }

    @PutMapping
    public R update(@RequestBody Book book) {
        return new R(bookService.modify(book));
    }

    @DeleteMapping(&quot;{id}&quot;)
    public R delete(@PathVariable Integer id) {
        return new R(bookService.delete(id));
    }

    @GetMapping(&quot;{id}&quot;)
    public R getById(@PathVariable Integer id) {
        return new R(true, bookService.getById(id));
    }

    @GetMapping(&quot;{currentPage}/{pageSize}&quot;)
    public R getPage(@PathVariable Integer currentPage, @PathVariable int pageSize) {
        return new R(true, bookService.getPage(currentPage, pageSize));
    }

}
</code></pre>
<figure data-type="image" tabindex="8"><img src="https://img-blog.csdnimg.cn/83f9d3b203a34ad0b9dc1c1012d0817d.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"></figure>
<p>小结：</p>
<ol>
<li>设计统一的返回值结果类型便于前端开发读取数据</li>
<li>返回值结果类型可以根据需求自行设定，没有固定格式</li>
<li>返回值结果模型类用于后端与前端进行数据格式统一，也称为前<br>
后端数据协议</li>
</ol>
<h1 id="40-前后端调用axios发送异步请求">40-前后端调用（axios发送异步请求）</h1>
<h2 id="使用vue的方法时提示报错">使用VUE的方法时提示报错：</h2>
<p>Method definition shorthands are not supported by current JavaScript version</p>
<p>表示：该方法定义的缺陷是不支持当前的JavaScript版本，虽然可以程序可以正常运行，但是这个方法会出现红色的波浪线，很不爽</p>
<p>解决：<br>
<strong>打开 File -&gt; Settings -&gt; Languages &amp; Frameworks -&gt; Javascript<br>
把JavaScript版本为ECMAScript 6就可以了</strong></p>
<ul>
<li>前后端分离结构设计中页面归属前端服务器</li>
<li>单体工程中页面放置在resources目录下的static目录中（建议执行clean）</li>
<li>前端发送异步请求，调用后端接口</li>
</ul>
<pre><code class="language-javascript">        //钩子函数，VUE对象初始化完成后自动执行
        created() {
            //调用查询全部数据的操作
            this.getAll();
        },
</code></pre>
<pre><code class="language-javascript">            //列表
            getAll() {
                //发送异步请求
                axios.get(&quot;/books&quot;).then((res)=&gt;{
                    console.log(res.data);
                })
            },
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/096ebaebba9d433f9d532cdc89566437.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"><br>
小结：</p>
<ol>
<li>单体项目中页面放置在resources/static目录下</li>
<li>created钩子函数用于初始化页面时发起调用</li>
<li>页面使用axios发送异步请求获取数据后确认前后端是否联通</li>
</ol>
<h1 id="41-列表功能">41-列表功能</h1>
<ul>
<li>列表页</li>
</ul>
<pre><code class="language-javascript">    //列表
    getAll() {
        //发送异步请求
        axios.get(&quot;/books&quot;).then((res) =&gt; {
            //console.log(res.data);
            this.dataList = res.data.data;
        })
    },
</code></pre>
<figure data-type="image" tabindex="9"><img src="https://img-blog.csdnimg.cn/e5efe8ab609f494baf68f6337f7a0ff3.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" loading="lazy"></figure>
<p>小结：</p>
<ol>
<li>将查询数据返回到页面，利用前端数据双向绑定进行数据展示</li>
</ol>
<h1 id="42-添加功能">42-添加功能</h1>
<ul>
<li>弹出添加窗口</li>
</ul>
<pre><code class="language-javascript">// 弹出添加窗口
handleCreate() {
	this.dialogFormVisible = true;
},
</code></pre>
<ul>
<li>清除数据</li>
</ul>
<pre><code class="language-javascript">   //重置表单
   resetForm() {
       this.formData = {};
   },
</code></pre>
<ul>
<li>在弹出添加窗口时 清除数据</li>
</ul>
<pre><code class="language-javascript">  //弹出添加窗口
  handleCreate() {
      this.dialogFormVisible = true;
      this.resetForm();
  },
</code></pre>
<ul>
<li>发送添加请求</li>
</ul>
<pre><code class="language-javascript">   //添加
   handleAdd() {
       axios.post(&quot;/books&quot;, this.formData).then((res) =&gt; {
           //判断当前操作是否成功
           if (res.data.flag) {
               //1.关闭弹层
               this.dialogFormVisible = false;
               this.$message.success(&quot;添加成功&quot;);
           } else {
               this.$message.error(&quot;添加失败&quot;);
           }
       }).finally(() =&gt; {
           //2.重新加载数据
           this.getAll();
       })
   },
</code></pre>
<ul>
<li>取消添加</li>
</ul>
<pre><code class="language-javascript">  //取消
  cancel() {
      //1.关闭弹层
      this.dialogFormVisible = false;
      //2.提示用户
      this.$message.info(&quot;当前操作取消&quot;);
  },
</code></pre>
<p>小结:</p>
<ol>
<li>请求方式使用POST调用后台对应操作</li>
<li>添加操作结束后动态刷新页面加载数据</li>
<li>根据操作结果不同，显示对应的提示信息</li>
<li>弹出添加Div时清除表单数据</li>
</ol>
<h1 id="43-删除功能">43-删除功能</h1>
<ul>
<li>删除</li>
</ul>
<pre><code class="language-javascript">  // 删除
  handleDelete(row) {
      axios.delete(&quot;/books/&quot; + row.id).then((res) =&gt; {
          if (res.data.flag) {
              this.$message.success(&quot;删除成功&quot;);
          } else {
              this.$message.error(&quot;删除失败&quot;);
          }
      }).finally(() =&gt; {
          this.getAll();
      });
  }
</code></pre>
<ul>
<li>加入确认删除对话框</li>
</ul>
<pre><code class="language-javascript">   // 删除
   handleDelete(row) {
       //1. 弹出提示框
       this.$confirm(&quot;些操作永久删除当前信息,是否继续?&quot;, &quot;提示&quot;, {type: &quot;info&quot;}).then(() =&gt; {
           //2. 做删除业务
           axios.delete(&quot;/books/&quot; + row.id).then((res) =&gt; {
               //判断当前操作是否成功
               if (res.data.flag) {
                   this.$message.success(&quot;删除成功&quot;);
               } else {
                   this.$message.error(&quot;删除失败&quot;);
               }
           }).finally(() =&gt; {
               //2.重新加载数据
               this.getAll();
           })
       }).catch(() =&gt; {
           //3. 取消删除
           this.$message.info(&quot;取消操作&quot;);
       });

   },
</code></pre>
<p>小结:</p>
<ol>
<li>请求方式使用Delete调用后台对应操作</li>
<li>删除操作需要传递当前行数据对应的id值到后台</li>
<li>删除操作结束后动态刷新页面加载数据</li>
<li>根据操作结果不同，显示对应的提示信息</li>
<li>删除操作前弹出提示框避免误操作</li>
</ol>
<h1 id="44修改功能加载数据">44修改功能（加载数据）</h1>
<ul>
<li>弹出修改窗口</li>
</ul>
<pre><code class="language-javascript">  //弹出编辑窗口
  handleUpdate(row) {
      axios.get(&quot;/books/&quot; + row.id).then((res) =&gt; {
          if (res.data.flag &amp;&amp; res.data.data != null) {
              // 展示弹层，加载数据
              this.dialogFormVisible4Edit = true;
              this.formData = res.data.data;
          } else {
              this.$message.error(&quot;数据同步失败，自动刷新&quot;);
          }
      }).finally(() =&gt; {
          //重新加载数据
          this.getAll();
      });
  },
</code></pre>
<ul>
<li>删除消息维护</li>
</ul>
<pre><code class="language-javascript">   // 删除
   handleDelete(row) {
       //1. 弹出提示框
       this.$confirm(&quot;些操作永久删除当前信息,是否继续?&quot;, &quot;提示&quot;, {type: &quot;info&quot;}).then(() =&gt; {
           //2. 做删除业务
           axios.delete(&quot;/books/&quot; + row.id).then((res) =&gt; {
               //判断当前操作是否成功
               if (res.data.flag) {
                   this.$message.success(&quot;删除成功&quot;);
               } else {
                   this.$message.error(&quot;数据同步失败，自动刷新&quot;);
               }
           }).finally(() =&gt; {
               //2.重新加载数据
               this.getAll();
           });
       }).catch(() =&gt; {
           //3. 取消删除
           this.$message.info(&quot;取消操作&quot;);
       });

   },
</code></pre>
<p>小结:</p>
<ol>
<li>加载要修改数据通过传递当前行数据对应的id值到后台查询数据</li>
<li>利用前端数据双向绑定将查询到的数据进行回显</li>
</ol>
<h1 id="45-修改功能">45-修改功能</h1>
<ul>
<li>修改</li>
</ul>
<pre><code class="language-javascript">  //修改
  handleEdit() {
      axios.put(&quot;/books&quot;, this.formData).then((res) =&gt; {
          //判断当前操作是否成功
          if (res.data.flag) {
              //1.关闭弹层
              this.dialogFormVisible4Edit = false;
              this.$message.success(&quot;修改成功&quot;);
          } else {
              this.$message.error(&quot;修改失败&quot;);
          }
      }).finally(() =&gt; {
          //2.重新加载数据
          this.getAll();
      });
  },
</code></pre>
<ul>
<li>取消添加和修改</li>
</ul>
<pre><code class="language-javascript">  //取消
  cancel() {
      //1.关闭弹层
      this.dialogFormVisible = false;
      this.dialogFormVisible4Edit = false;
      //2.提示用户
      this.$message.info(&quot;当前操作取消&quot;);
  },
</code></pre>
<p>小结:</p>
<ol>
<li>请求方式使用PUT调用后台对应操作</li>
<li>修改操作结束后动态刷新页面加载数据（同新增）</li>
<li>根据操作结果不同，显示对应的提示信息（同新增）</li>
</ol>
<h1 id="46-异常消息处理">46-异常消息处理</h1>
<ul>
<li>业务操作成功或失败返回数据格式</li>
</ul>
<pre><code class="language-javascript">{
    &quot;flag&quot;: true,
    &quot;data&quot;: null
}

{
    &quot;flag&quot;: false,
    &quot;data&quot;: null
}
</code></pre>
<ul>
<li>后台代码BUG导致数据格式不统一性</li>
</ul>
<pre><code class="language-javascript">{
    &quot;timestamp&quot;: &quot;2021-11-07T12:44:29.343+00:00&quot;,
    &quot;status&quot;: 500,
    &quot;error&quot;: &quot;Internal Server Error&quot;,
    &quot;path&quot;: &quot;/books&quot;
}
</code></pre>
<ul>
<li>对异常进行统一处理，出现异常后，返回指定信息</li>
</ul>
<pre><code class="language-java">@RestControllerAdvice
public class ProjectExceptionAdvice {

    //拦截所有的异常信息
    @ExceptionHandler(Exception.class)
    public R doException(Exception ex) {
        // 记录日志
        // 发送消息给运维
        // 发送邮件给开发人员 ,ex 对象发送给开发人员
        ex.printStackTrace();
        return new R(false, null, &quot;系统错误，请稍后再试！&quot;);
    }
}
</code></pre>
<ul>
<li>修改表现层返回结果的模型类，封装出现异常后对应的信息<br>
flag：false<br>
Data: null<br>
消息(msg): 要显示信息</li>
</ul>
<pre><code class="language-java">@Data
public class R{
	private Boolean flag;
	private Object data;
	private String msg;
	public R(Boolean flag,Object data,String msg){
		this.flag = flag;
		this.data = data;
		this.msg = msg;
	}
}
</code></pre>
<ul>
<li>页面消息处理，没有传递消息加载默认消息，传递消息后加载指定消息</li>
</ul>
<pre><code class="language-javascript">  //添加
  handleAdd() {
      axios.post(&quot;/books&quot;, this.formData).then((res) =&gt; {
          //判断当前操作是否成功
          if (res.data.flag) {
              //1.关闭弹层
              this.dialogFormVisible = false;
              this.$message.success(&quot;添加成功&quot;);
          } else {
              this.$message.error(res.data.msg);
          }
      }).finally(() =&gt; {
          //2.重新加载数据
          this.getAll();
      })
  },
</code></pre>
<ul>
<li>可以在表现层Controller中进行消息统一处理</li>
</ul>
<pre><code class="language-java">    @PostMapping
    public R save(@RequestBody Book book) throws IOException {
		//if (book.getName().equals(&quot;123&quot;)) throw new IOException();
        boolean flag = bookService.save(book);
        return new R(flag, flag ? &quot;添加成功^_^&quot; : &quot;添加失败-_-!&quot;);
    }
</code></pre>
<ul>
<li>页面消息处理</li>
</ul>
<pre><code class="language-javascript">  //添加
  handleAdd() {
      axios.post(&quot;/books&quot;, this.formData).then((res) =&gt; {
          //判断当前操作是否成功
          if (res.data.flag) {
              //1.关闭弹层
              this.dialogFormVisible = false;
              this.$message.success(res.data.msg);
          } else {
              this.$message.error(res.data.msg);
          }
      }).finally(() =&gt; {
          //2.重新加载数据
          this.getAll();
      })
  },
</code></pre>
<p>小结:</p>
<ol>
<li>使用注解@RestControllerAdvice定义SpringMVC异常处理器用来处理异常的</li>
<li>异常处理器必须被扫描加载，否则无法生效</li>
<li>表现层返回结果的模型类中添加消息属性用来传递消息到页面</li>
</ol>
<h1 id="47-分页">47-分页</h1>
<ul>
<li>页面使用 el 分页组件添加分页功能</li>
</ul>
<pre><code class="language-html">
  &lt;!--分页组件--&gt;
  &lt;div class=&quot;pagination-container&quot;&gt;

      &lt;el-pagination
              class=&quot;pagiantion&quot;

              @current-change=&quot;handleCurrentChange&quot;

              :current-page=&quot;pagination.currentPage&quot;

              :page-size=&quot;pagination.pageSize&quot;

              layout=&quot;total, prev, pager, next, jumper&quot;

              :total=&quot;pagination.total&quot;&gt;

      &lt;/el-pagination&gt;

  &lt;/div&gt;
</code></pre>
<ul>
<li>定义分页组件需要使用的数据并将数据绑定到分页组件</li>
</ul>
<pre><code class="language-javascript">data: {
    pagination: { // 分页相关模型数据
        currentPage: 1, // 当前页码
        pageSize: 10,	// 每页显示的记录数
        total: 0,		// 总记录数
    }
},
</code></pre>
<ul>
<li>替换查询全部功能为分页功能</li>
</ul>
<pre><code class="language-javascript">getAll() {
    axios.get(&quot;/books/&quot; + this.pagination.currentPage + &quot;/&quot; + this.pagination.pageSize).then((res) =&gt; {});
},
</code></pre>
<ul>
<li>分页查询<br>
使用路径参数传递分页数据或封装对象传递数据</li>
</ul>
<pre><code class="language-java">    @GetMapping(&quot;{currentPage}/{pageSize}&quot;)
    public R getPage(@PathVariable Integer currentPage, @PathVariable int pageSize) {
        return new R(true, bookService.getPage(currentPage, pageSize));
    }
</code></pre>
<ul>
<li>加载分页数据</li>
</ul>
<pre><code class="language-javascript">     //分页查询
     getAll() {
         //发送异步请求
         axios.get(&quot;/books/&quot; + this.pagination.currentPage + &quot;/&quot; + this.pagination.pageSize).then((res) =&gt; {
             //console.log(res.data);
             this.pagination.currentPage = res.data.data.current;
             this.pagination.pageSize = res.data.data.size;
             this.pagination.total = res.data.data.total;

             this.dataList = res.data.data.records;
         })
     },
</code></pre>
<ul>
<li>分页页码值切换</li>
</ul>
<pre><code class="language-javascript">   //切换页码
   handleCurrentChange(currentPage) {
       //修改页码值为当前选中的页码值
       this.pagination.currentPage = currentPage;
       //执行查询
       this.getAll();
   },
</code></pre>
<p>小结:</p>
<ol>
<li>使用el分页组件</li>
<li>定义分页组件绑定的数据模型</li>
<li>异步调用获取分页数据</li>
<li>分页数据页面回显</li>
</ol>
<h1 id="48-分页功能维护删除bug">48-分页功能维护（删除BUG）</h1>
<ul>
<li>对查询结果进行校验，如果当前页码值大于最大页码值，使用最大页码值作为当前页码值重新查询</li>
</ul>
<pre><code class="language-java">    @GetMapping(&quot;{currentPage}/{pageSize}&quot;)
    public R getPage(@PathVariable Integer currentPage, @PathVariable int pageSize) {
        IPage&lt;Book&gt; page = bookService.getPage(currentPage, pageSize);
        // 如果当前页码值大于了总页码值，那么重新执行查询操作，使用最大页码值作为当前页码值
        if (currentPage &gt; page.getPages()) {
            page = bookService.getPage((int) page.getPages(), pageSize);
        }
        return new R(true, page);
    }
</code></pre>
<p>小结:</p>
<ol>
<li>基于业务需求维护删除功能</li>
</ol>
<h1 id="49-条件查询">49-条件查询</h1>
<ul>
<li>查询条件数据封装<br>
单独封装<br>
与分页操作混合封装</li>
</ul>
<pre><code class="language-javascript">   pagination: {//分页相关模型数据
       currentPage: 1,//当前页码
       pageSize: 10,//每页显示的记录数
       total: 0,//总记录数
       type: &quot;&quot;,
       name: &quot;&quot;,
       description: &quot;&quot;
   }
</code></pre>
<ul>
<li>页面数据模型绑定</li>
</ul>
<pre><code class="language-html">&lt;div class=&quot;filter-container&quot;&gt;
    &lt;el-input placeholder=&quot;图书类别&quot; v-model=&quot;pagination.type&quot; class=&quot;filter-item&quot; /&gt;
    &lt;el-input placeholder=&quot;图书名称&quot; v-model=&quot;pagination.name&quot; class=&quot;filter-item&quot; /&gt;
    &lt;el-input placeholder=&quot;图书描述&quot; v-model=&quot;pagination.description&quot; class=&quot;filter-item&quot; /&gt;
    &lt;el-button @click=&quot;getAll()&quot; class=&quot;dalfBut&quot;&gt;查询&lt;/el-button&gt;
    &lt;el-button type=&quot;primary&quot; class=&quot;butT&quot; @click=&quot;handleCreate()&quot;&gt;新建&lt;/el-button&gt;
&lt;/div&gt;
</code></pre>
<ul>
<li>组织数据成为get请求发送的数据</li>
</ul>
<pre><code class="language-javascript">   //分页查询
   getAll() {
       console.log(this.pagination.type);

       //  /books/1/10?type=???&amp;name=???&amp;decription=?? ;
       //1. 获取查询条件 , 拼接查询条件
       param = &quot;?name=&quot; + this.pagination.name;
       param += &quot;&amp;type=&quot; + this.pagination.type;
       param += &quot;&amp;description=&quot; + this.pagination.description;
       //console.log(&quot;-----------------&quot; + param);

       //发送异步请求
       axios.get(&quot;/books/&quot; + this.pagination.currentPage + &quot;/&quot; + this.pagination.pageSize + param).then((res) =&gt; {
           //console.log(res.data);
           this.pagination.currentPage = res.data.data.current;
           this.pagination.pageSize = res.data.data.size;
           this.pagination.total = res.data.data.total;

           this.dataList = res.data.data.records;
       })
   },
</code></pre>
<ul>
<li>条件参数组织可以通过条件判定书写的更简洁</li>
<li>Controller接收参数</li>
</ul>
<pre><code class="language-java">@GetMapping(&quot;{currentPage}/{pageSize}&quot;)
public R getAll(@PathVariable int currentPage,@PathVariable int pageSize,Book book) {
	System.out.println(&quot;参数=====&gt;&quot;+book);
	IPage&lt;Book&gt; pageBook = bookService.getPage(currentPage,pageSize);
	return new R(null != pageBook ,pageBook);
}
</code></pre>
<ul>
<li>业务层接口功能开发</li>
</ul>
<pre><code class="language-java">     /**
   * 分页的条件查询
   *
   * @param currentPage
   * @param pageSize
   * @param book
   * @return
   */
  IPage&lt;Book&gt; getPage(Integer currentPage, int pageSize, Book book);
</code></pre>
<ul>
<li>业务层接口实现类功能开发</li>
</ul>
<pre><code class="language-java">    @Override
    public IPage&lt;Book&gt; getPage(Integer currentPage, int pageSize, Book book) {

        LambdaQueryWrapper&lt;Book&gt; lambdaQueryWrapper = new LambdaQueryWrapper&lt;&gt;();

        lambdaQueryWrapper.like(Strings.isNotEmpty(book.getType()), Book::getType, book.getType());
        lambdaQueryWrapper.like(Strings.isNotEmpty(book.getName()), Book::getName, book.getName());
        lambdaQueryWrapper.like(Strings.isNotEmpty(book.getDescription()), Book::getDescription, book.getDescription());

        IPage page = new Page(currentPage, pageSize);
        bookDao.selectPage(page, lambdaQueryWrapper);

        return page;
    }
</code></pre>
<ul>
<li>Controller调用业务层分页条件查询接口</li>
</ul>
<pre><code class="language-java">    @GetMapping(&quot;{currentPage}/{pageSize}&quot;)
    public R getPage(@PathVariable Integer currentPage, @PathVariable int pageSize, Book book) {

        // System.out.println(&quot;book=&gt;&quot; + book);

        IPage&lt;Book&gt; page = bookService.getPage(currentPage, pageSize, book);
        // 如果当前页码值大于了总页码值，那么重新执行查询操作，使用最大页码值作为当前页码值
        if (currentPage &gt; page.getPages()) {
            page = bookService.getPage((int) page.getPages(), pageSize, book);
        }
        return new R(true, page);
    }
</code></pre>
<ul>
<li>页面回显数据</li>
</ul>
<pre><code class="language-javascript">   //分页查询
   getAll() {
       console.log(this.pagination.type);

       //  /books/1/10?type=???&amp;name=???&amp;decription=?? ;
       //1. 获取查询条件 , 拼接查询条件
       param = &quot;?name=&quot; + this.pagination.name;
       param += &quot;&amp;type=&quot; + this.pagination.type;
       param += &quot;&amp;description=&quot; + this.pagination.description;
       //console.log(&quot;-----------------&quot; + param);

       //发送异步请求
       axios.get(&quot;/books/&quot; + this.pagination.currentPage + &quot;/&quot; + this.pagination.pageSize + param).then((res) =&gt; {
           //console.log(res.data);
           this.pagination.currentPage = res.data.data.current;
           this.pagination.pageSize = res.data.data.size;
           this.pagination.total = res.data.data.total;

           this.dataList = res.data.data.records;
       })
   },
</code></pre>
<p>小结:</p>
<ol>
<li>定义查询条件数据模型（当前封装到分页数据模型中）</li>
<li>异步调用分页功能并通过请求参数传递数据到后台</li>
</ol>
<h1 id="50-基础篇完结">50-基础篇完结</h1>
<h2 id="基于springboot的ssmp整合案例">基于SpringBoot的SSMP整合案例</h2>
<ol>
<li>pom.xml<br>
配置起步依赖</li>
<li>application.yml<br>
设置数据源、端口、框架技术相关配置等</li>
<li>dao<br>
继承BaseMapper、设置@Mapper</li>
<li>dao测试类</li>
<li>service<br>
调用数据层接口或MyBatis-Plus提供的接口快速开发</li>
<li>service测试类</li>
<li>controller<br>
基于Restful开发，使用Postman测试跑通功能</li>
<li>页面<br>
放置在resources目录下的static目录中</li>
</ol>
<p>总结:</p>
<ol>
<li>整合JUint</li>
<li>整合MyBatis</li>
<li>整合MyBatis-Plus</li>
<li>整合Druid</li>
<li>基于SpringBoot的SSMP整合案例</li>
</ol>

        </div>
        <!-- Share to Twitter, Weibo, Telegram -->
        <div class="flex items-center">
          <div class="mr-4 flex items-center">
            <i class="ri-share-forward-line text-gray-500"></i>
          </div>
          <div class="px-4 cursor-pointer text-blue-500 hover:bg-blue-100 dark:hover:bg-gray-600 inline-flex" @click="shareToTwitter">
            <i class="ri-twitter-line"></i>
          </div>
          <div class="px-4 cursor-pointer text-red-500 hover:bg-red-100 dark:hover:bg-gray-600 inline-flex" @click="shareToWeibo">
            <i class="ri-weibo-line"></i>
          </div>
          <div class="px-4 cursor-pointer text-indigo-500 hover:bg-indigo-100 dark:hover:bg-gray-600 inline-flex" @click="shareToTelegram">
            <i class="ri-telegram-line"></i>
          </div>
        </div>
      </div>

      

      

      <footer class="py-12 text-center px-4 md:px-0" v-pre>
  
</footer>
    </div>

    <!-- TOC Container -->
    <div class="fixed right-0 bottom-0 mb-16 mr-4 shadow w-8 h-8 rounded-full flex justify-center items-center z-10 cursor-pointer bg-white dark:bg-gray-500 dark:text-gray-200 hover:shadow-lg transition-all animated fadeInRight" @click="showToc = true">
      <i class="ri-file-list-line"></i>
    </div>

    <div class="fixed right-0 top-0 bottom-0 overflow-y-auto w-64 bg-white dark:bg-gray-800 p-4 border-l border-gray-100 dark:border-gray-600 z-10 transition-fast" :class="{ '-mr-64': !showToc }">
      <div class="flex mb-4 justify-end">
        <div class="w-8 h-8 inline-flex justify-center items-center rounded-full cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600 transition-fast" @click="showToc = false">
          <i class="ri-close-line text-lg"></i>
        </div>
      </div>
      <div class="post-toc-container">
        <ul class="markdownIt-TOC">
<li><a href="#01-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83">01-开发环境</a></li>
<li><a href="#02-%E5%86%85%E5%AE%B9%E4%BB%8B%E7%BB%8D">02-内容介绍</a></li>
<li><a href="#03-springboot%E5%85%A5%E9%97%A8%E6%A1%88%E4%BE%8Bidea%E8%81%94%E7%BD%91%E7%89%88">03-SpringBoot入门案例（Idea联网版）</a></li>
<li><a href="#04-springboot%E5%85%A5%E9%97%A8%E6%A1%88%E4%BE%8B%E5%AE%98%E7%BD%91%E5%88%9B%E5%BB%BA%E7%89%88">04-SpringBoot入门案例（官网创建版）</a></li>
<li><a href="#05-springboot%E5%85%A5%E9%97%A8%E6%A1%88%E4%BE%8B%E9%98%BF%E9%87%8C%E4%BA%91%E7%89%88">05-SpringBoot入门案例（阿里云版）</a></li>
<li><a href="#06-springboot%E5%85%A5%E9%97%A8%E6%A1%88%E4%BE%8B%E6%89%8B%E5%B7%A5%E5%88%B6%E4%BD%9C%E7%89%88">06-SpringBoot入门案例（手工制作版）</a></li>
<li><a href="#07-%E6%95%99%E4%BD%A0%E4%B8%80%E6%8B%9B%E9%9A%90%E8%97%8F%E6%96%87%E4%BB%B6%E6%88%96%E6%96%87%E4%BB%B6%E5%A4%B9">07-教你一招：隐藏文件或文件夹</a></li>
<li><a href="#08-%E5%85%A5%E9%97%A8%E6%A1%88%E4%BE%8B%E8%A7%A3%E6%9E%90parent">08-入门案例解析：parent</a></li>
<li><a href="#09-%E5%85%A5%E9%97%A8%E6%A1%88%E4%BE%8B%E8%A7%A3%E6%9E%90starter">09-入门案例解析：starter</a></li>
<li><a href="#10-%E5%85%A5%E9%97%A8%E6%A1%88%E4%BE%8B%E8%A7%A3%E6%9E%90%E5%BC%95%E5%AF%BC%E7%B1%BB">10-入门案例解析：引导类</a></li>
<li><a href="#11-%E5%85%A5%E9%97%A8%E6%A1%88%E4%BE%8B%E8%BE%85%E5%8A%A9%E5%8A%9F%E8%83%BD">11-入门案例：辅助功能</a>
<ul>
<li><a href="#%E6%80%BB%E7%BB%93">总结:</a></li>
</ul>
</li>
<li><a href="#12-%E6%95%99%E4%BD%A0%E4%B8%80%E6%8B%9B%E5%A4%8D%E5%88%B6%E6%A8%A1%E5%9D%97">12-教你一招：复制模块</a></li>
<li><a href="#13-%E5%B1%9E%E6%80%A7%E9%85%8D%E7%BD%AE%E6%96%B9%E5%BC%8F">13-属性配置方式</a></li>
<li><a href="#14-%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE">14-基础配置</a></li>
<li><a href="#15-3%E7%A7%8D%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B">15-3种配置文件类型</a></li>
<li><a href="#16-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%8A%A0%E8%BD%BD%E4%BC%98%E5%85%88%E7%BA%A7">16-配置文件加载优先级</a></li>
<li><a href="#17-%E6%95%99%E4%BD%A0%E4%B8%80%E6%8B%9B%E5%B1%9E%E6%80%A7%E6%8F%90%E7%A4%BA%E6%B6%88%E5%A4%B1%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88">17-教你一招：属性提示消失解决方案</a></li>
<li><a href="#18-yaml%E6%95%B0%E6%8D%AE%E6%A0%BC%E5%BC%8F">18-yaml数据格式</a>
<ul>
<li><a href="#yaml">yaml</a></li>
<li><a href="#yaml%E8%AF%AD%E6%B3%95%E8%A7%84%E5%88%99">yaml语法规则</a>
<ul>
<li><a href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95">基本语法</a></li>
<li><a href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">数据类型</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#19-%E8%AF%BB%E5%8F%96yaml%E5%8D%95%E4%B8%80%E5%B1%9E%E6%80%A7%E6%95%B0%E6%8D%AE">19-读取yaml单一属性数据</a></li>
<li><a href="#20-yaml%E6%96%87%E4%BB%B6%E4%B8%AD%E7%9A%84%E5%8F%98%E9%87%8F%E5%BC%95%E7%94%A8">20-yaml文件中的变量引用</a></li>
<li><a href="#21-%E8%AF%BB%E5%8F%96yaml%E5%85%A8%E9%83%A8%E5%B1%9E%E6%80%A7%E6%95%B0%E6%8D%AE">21-读取yaml全部属性数据</a></li>
<li><a href="#22-%E8%AF%BB%E5%8F%96yaml%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B%E5%B1%9E%E6%80%A7%E6%95%B0%E6%8D%AE">22-读取yaml引用类型属性数据</a></li>
<li><a href="#23-springboot%E6%95%B4%E5%90%88junit">23-SpringBoot整合JUnit</a></li>
<li><a href="#24-%E6%95%B4%E5%90%88junitclasses%E5%B1%9E%E6%80%A7">24-整合JUnit——classes属性</a></li>
<li><a href="#25-springboot%E6%95%B4%E5%90%88mybatis">25-SpringBoot整合MyBatis</a></li>
<li><a href="#26-springboot%E6%95%B4%E5%90%88mybatis%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E5%A4%84%E7%90%86">26-SpringBoot整合MyBatis常见问题处理</a></li>
<li><a href="#27-springboot%E6%95%B4%E5%90%88mybatisplus">27-SpringBoot整合MyBatisPlus</a></li>
<li><a href="#28-springboot%E6%95%B4%E5%90%88druid">28-SpringBoot整合Druid</a></li>
<li><a href="#29-ssmp%E6%95%B4%E5%90%88%E6%A1%88%E4%BE%8B%E5%88%B6%E4%BD%9C%E5%88%86%E6%9E%90">29-SSMP整合案例制作分析</a>
<ul>
<li><a href="#%E6%A1%88%E4%BE%8B%E6%95%88%E6%9E%9C%E6%BC%94%E7%A4%BA">案例效果演示:</a></li>
<li><a href="#%E6%A1%88%E4%BE%8B%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%A1%88%E5%88%86%E6%9E%90%E4%B8%8E%E6%B5%81%E7%A8%8B%E8%A7%A3%E6%9E%90">案例实现方案分析与流程解析</a></li>
</ul>
</li>
<li><a href="#30-%E6%A8%A1%E5%9D%97%E5%88%9B%E5%BB%BA">30-模块创建</a>
<ul>
<li><a href="#tbl_booksql">tbl_book.sql</a></li>
</ul>
</li>
<li><a href="#31-%E5%AE%9E%E4%BD%93%E7%B1%BB%E5%BF%AB%E9%80%9F%E5%BC%80%E5%8F%91lombok">31-实体类快速开发（lombok）</a></li>
<li><a href="#32-%E6%95%B0%E6%8D%AE%E5%B1%82%E6%A0%87%E5%87%86%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80crud">32-数据层标准开发（基础CRUD）</a></li>
<li><a href="#33-%E5%BC%80%E5%90%AFmp%E8%BF%90%E8%A1%8C%E6%97%A5%E5%BF%97">33-开启MP运行日志</a></li>
<li><a href="#34-%E5%88%86%E9%A1%B5">34-分页</a></li>
<li><a href="#35-%E6%95%B0%E6%8D%AE%E5%B1%82%E6%A0%87%E5%87%86%E5%BC%80%E5%8F%91%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2">35-数据层标准开发（条件查询）</a></li>
<li><a href="#36-%E4%B8%9A%E5%8A%A1%E5%B1%82%E6%A0%87%E5%87%86%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80crud">36-业务层标准开发（基础CRUD）</a></li>
<li><a href="#37-%E4%B8%9A%E5%8A%A1%E5%B1%82%E5%BF%AB%E9%80%9F%E5%BC%80%E5%8F%91%E5%9F%BA%E4%BA%8Emybatisplus%E6%9E%84%E5%BB%BA">37-业务层快速开发（基于MyBatisPlus构建）</a></li>
<li><a href="#38-%E8%A1%A8%E7%8E%B0%E5%B1%82%E6%A0%87%E5%87%86%E5%BC%80%E5%8F%91">38-表现层标准开发</a></li>
<li><a href="#39-%E8%A1%A8%E7%8E%B0%E5%B1%82%E6%95%B0%E6%8D%AE%E4%B8%80%E8%87%B4%E6%80%A7%E5%A4%84%E7%90%86r%E5%AF%B9%E8%B1%A1">39-表现层数据一致性处理（R对象）</a></li>
<li><a href="#40-%E5%89%8D%E5%90%8E%E7%AB%AF%E8%B0%83%E7%94%A8axios%E5%8F%91%E9%80%81%E5%BC%82%E6%AD%A5%E8%AF%B7%E6%B1%82">40-前后端调用（axios发送异步请求）</a>
<ul>
<li><a href="#%E4%BD%BF%E7%94%A8vue%E7%9A%84%E6%96%B9%E6%B3%95%E6%97%B6%E6%8F%90%E7%A4%BA%E6%8A%A5%E9%94%99">使用VUE的方法时提示报错：</a></li>
</ul>
</li>
<li><a href="#41-%E5%88%97%E8%A1%A8%E5%8A%9F%E8%83%BD">41-列表功能</a></li>
<li><a href="#42-%E6%B7%BB%E5%8A%A0%E5%8A%9F%E8%83%BD">42-添加功能</a></li>
<li><a href="#43-%E5%88%A0%E9%99%A4%E5%8A%9F%E8%83%BD">43-删除功能</a></li>
<li><a href="#44%E4%BF%AE%E6%94%B9%E5%8A%9F%E8%83%BD%E5%8A%A0%E8%BD%BD%E6%95%B0%E6%8D%AE">44修改功能（加载数据）</a></li>
<li><a href="#45-%E4%BF%AE%E6%94%B9%E5%8A%9F%E8%83%BD">45-修改功能</a></li>
<li><a href="#46-%E5%BC%82%E5%B8%B8%E6%B6%88%E6%81%AF%E5%A4%84%E7%90%86">46-异常消息处理</a></li>
<li><a href="#47-%E5%88%86%E9%A1%B5">47-分页</a></li>
<li><a href="#48-%E5%88%86%E9%A1%B5%E5%8A%9F%E8%83%BD%E7%BB%B4%E6%8A%A4%E5%88%A0%E9%99%A4bug">48-分页功能维护（删除BUG）</a></li>
<li><a href="#49-%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2">49-条件查询</a></li>
<li><a href="#50-%E5%9F%BA%E7%A1%80%E7%AF%87%E5%AE%8C%E7%BB%93">50-基础篇完结</a>
<ul>
<li><a href="#%E5%9F%BA%E4%BA%8Espringboot%E7%9A%84ssmp%E6%95%B4%E5%90%88%E6%A1%88%E4%BE%8B">基于SpringBoot的SSMP整合案例</a></li>
</ul>
</li>
</ul>

      </div>
    </div>

    <!-- Back to top -->
    <div class="fixed right-0 bottom-0 mb-4 mr-4 shadow w-8 h-8 rounded-full flex justify-center items-center z-10 cursor-pointer bg-white hover:shadow-lg transition-all dark:bg-gray-500 dark:text-gray-200" @click="backToUp" v-show="scrolled">
      <i class="ri-arrow-up-line"></i>
    </div>
  </div>

  <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
  <!-- Background of PhotoSwipe. 
        It's a separate element as animating opacity is faster than rgba(). -->
  <div class="pswp__bg">
  </div>
  <!-- Slides wrapper with overflow:hidden. -->
  <div class="pswp__scroll-wrap">
    <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
    <div class="pswp__container">
      <div class="pswp__item">
      </div>
      <div class="pswp__item">
      </div>
      <div class="pswp__item">
      </div>
    </div>
    <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
    <div class="pswp__ui pswp__ui--hidden">
      <div class="pswp__top-bar">
        <!--  Controls are self-explanatory. Order can be changed. -->
        <div class="pswp__counter">
        </div>
        <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
        <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
        <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
        <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
        <!-- element will get class pswp__preloader--active when preloader is running -->
        <div class="pswp__preloader">
          <div class="pswp__preloader__icn">
            <div class="pswp__preloader__cut">
              <div class="pswp__preloader__donut">
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
        <div class="pswp__share-tooltip">
        </div>
      </div>
      <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
      </button>
      <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
      </button>
      <div class="pswp__caption">
        <div class="pswp__caption__center">
        </div>
      </div>
    </div>
  </div>
</div>

  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script src="https://junwuyi.github.io/media/scripts/main.js"></script>
  
  <!-- Code Highlight -->
  
    <script src="https://junwuyi.github.io/media/prism.js"></script>
    <script>
      Prism.highlightAll()
    </script>
  

  <script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>
  <script>
    //拿到预览框架，也就是上面的html代码
    var pswpElement = document.querySelectorAll('.pswp')[0];
    //定义图片数组变量
    var imgitems;
    /**
    * 用于显示预览界面
    * @param index 图片数组下标
    */
    function viewImg(index) {
      //其它选项这里不做过多阐述，详情见官网
      var pswpoptions = {
        index: parseInt(index, 10), // 开始幻灯片索引。0是第一张幻灯片。必须是整数，而不是字符串。
        bgOpacity: 0.7, // 背景透明度，0-1
        maxSpreadZoom: 3, // 缩放级别，不要太大
      };
      //初始化并打开PhotoSwipe，pswpElement对应上面预览框架，PhotoSwipeUI_Default为皮肤，imgitems为图片数组，pswpoptions为选项
      var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, imgitems, pswpoptions);
      gallery.init()
    }
    /**
    * 用于添加图片点击事件
    * @param img 图片元素
    * @param index 所属下标（在imgitems中的位置）
    */
    function addImgClick(img, index) {
      img.onclick = function() {
        viewImg(index)
      }
    }
    /**
    * 轮询所有图片，获取src、width、height等数据，加入imgitems，并给图片元素添加事件
    * 最好在onload中执行该方法，本站因放在最底部，所以直接初始化
    * 异步加载图片可在图片元素创建完成后调用此方法
    */
    function initImg() {
      //重置图片数组
      imgitems = [];
      //查找class:markdown 下的所有img元素并遍历
      var imgs = document.querySelectorAll('.markdown img');
      for (var i = 0; i < imgs.length; i++) {
        var img = imgs[i];
        //本站相册初始为loading图片，真实图片放在data-src
        var ds = img.getAttribute("data-src");
        //创建image对象，用于获取图片宽高
        var imgtemp = new Image();
        //判断是否存在data-src
        if (ds != null && ds.length > 0) {
          imgtemp.src = ds
        } else {
          imgtemp.src = img.src
        }
        //判断是否存在缓存
        if (imgtemp.complete) {
          var imgobj = {
            "src": imgtemp.src,
            "w": imgtemp.width,
            "h": imgtemp.height,
          };
          imgitems[i] = imgobj;
          addImgClick(img, i);
        } else {
          console.log('进来了2')
          imgtemp.index = i;
          imgtemp.img = img;
          imgtemp.onload = function() {
            var imgobj = {
              "src": this.src,
              "w": this.width,
              "h": this.height,
            };
            //不要使用push，因为onload前后顺序会不同
            imgitems[this.index] = imgobj
            //添加点击事件
            addImgClick(this.img, this.index);
          }
        }
      }
    }
    //初始化
    initImg();
  </script>
  
  
</body>

</html>